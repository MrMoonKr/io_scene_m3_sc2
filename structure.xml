<structures>
    <structure name='CHAR'>
        <version number='0' size='1'/>
        <field name='val' type='char'/>
    </structure>
    <structure name='PT__'>
        <version number='0' size='8'/>
        <version number='1' size='10'/>
        <field name='x' type='fixed16'/>
        <field name='y' type='fixed16'/>
        <field name='z' type='fixed16'/>
        <field name='u' type='ufixed8' max_version='0'/>
        <field name='v' type='ufixed8' max_version='0'/>
        <field name='u' type='fixed16' min_version='1'/>
        <field name='v' type='fixed16' min_version='1'/>
    </structure>
    <structure name='POLY'>
        <version number='0' size='12'/>
        <field name='anim_frames' type='uint16'/>
        <field name='anim_rate' type='uint16'/>
        <field name='anim_x' type='ufixed8'/>
        <field name='anim_y' type='ufixed8'/>
        <field name='point0' type='uint16'/>
        <field name='point1' type='uint16'/>
        <field name='point2' type='uint16'/>
    </structure>
    <structure name='SHPO'>
        <version number='0' size='6'/>
        <field name='pointIndex1' type='uint16'/>
        <field name='pointIndex2' type='uint16'/>
        <field name='pointIndex3' type='uint16'/>
    </structure>
    <structure name='CON_'>
        <version number='0' size='6'/>
        <field name='x' type='fixed16'/>
        <field name='y' type='fixed16'/>
        <field name='z' type='fixed16'/>
    </structure>
    <structure name='ATD_'>
        <version number='0' size='21'/>
        <version number='1' size='35'/>
        <field name='frame' type='uint16'/>
        <field name='interpolation' type='uint8'/>
        <field name='xx' type='fixed16'/>
        <field name='xy' type='fixed16'/>
        <field name='xz' type='fixed16'/>
        <field name='xw' type='fixed16' sinceVersion='1'/>
        <field name='yx' type='fixed16'/>
        <field name='yy' type='fixed16'/>
        <field name='yz' type='fixed16'/>
        <field name='yw' type='fixed16' sinceVersion='1'/>
        <field name='zx' type='fixed16'/>
        <field name='zy' type='fixed16'/>
        <field name='zz' type='fixed16'/>
        <field name='zw' type='fixed16' sinceVersion='1'/>
        <field name='wx' type='fixed16' sinceVersion='1'/>
        <field name='wy' type='fixed16' sinceVersion='1'/>
        <field name='wz' type='fixed16' sinceVersion='1'/>
        <field name='ww' type='fixed16' sinceVersion='1'/>
    </structure>
    <structure name='ANIM'>
        <version number='0' size='8'/>
        <field name='event' type='uint8'/>
        <field name='cycles' type='uint8'/>
        <field name='time' type='uint16'/>
        <field name='frames' type='uint16'/>
        <field name='transform_data' type='uint16' ref='ATD_'/>
    </structure>
    <structure name='LVL_'>
        <version number='0' size='16'/>
        <field name='tex_page' type='uint16' ref='CHAR'/>
        <field name='mat_flags' type='uint16'>
            <bit mask='0x1' name='additive'/>
            <bit mask='0x2' name='translucent'/>
            <bit mask='0x4' name='pmr'/>
            <bit mask='0x8' name='roll'/>
            <bit mask='0x10' name='pitch'/>
            <bit mask='0x20' name='stretch'/>
            <bit mask='0x40' name='tcMap'/>
            <bit mask='0x80' name='normalMap'/>
            <bit mask='0x100' name='specularMap'/>
        </field>
        <field name='points' type='uint16' ref='PT__'/>
        <field name='polygons' type='uint16' ref='POLY'/>
        <field name='connectors' type='uint16' ref='CON_'/>
        <field name='animations' type='uint16' ref='ANIM'/>
        <field name='shadow_points' type='uint16' ref='PT__'/>
        <field name='shadow_polygons' type='uint16' ref='SHPO'/>
    </structure>
    <structure name="PIE_">
        <version number='4' size='2'/>
        <field name='levels' type='uint16' ref='LVL_'/>
    </structure>
    <structure name='PIMD_IndexEntry'>
        <version number='0' size='11'/>
        <field name='tag' type='tag'/>
        <field name='offset' type='uint32'/>
        <field name='instances' type='uint16'/>
        <field name='version' type='uint8'/>
    </structure>
    <structure name='PIMD'>
        <version number='0' size='8'/>
        <field name='indexOffset' type='uint32'/>
        <field name='indexSize' type='uint16'/>
        <field name='pie' type='uint16' ref='PIE_'/>
    </structure>
</structures>
