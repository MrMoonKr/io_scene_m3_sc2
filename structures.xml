<!--
    This file describes the m3 model format. The m3 file format originally comes from
    Blizzard. For example, it is used in Starcraft 2 to describe models.

    Original source of file - https://github.com/SC2Mapster/m3addon

    Credits for gathering information about the m3 file format go to:
    * Florian KÃ¶berle - who created the first version of this file by using existing descriptions of the m3 file format
    * NiNtoxicated (madyavic@gmail.com) - who made an m3 Exporter and Importer for 3ds max
    * Leruster (leruster@gmail.com) - who helped improving the structure.xml file
    * Witchsong (http://code.google.com/p/libm3/) - who made a M3 library and helped NiNtoxicated on sequence data
    * Teal (starcraft.incgamers.com) - who made an PHP M3 parser
    * Blue Isle Studios (http://blueislestudios.com/) - who helped NiNtoxicated
    * Volcore (http://volcore.limbicsoft.com/) - who helped NiNtoxicated figure out vertex flags
    * Sixen (http://www.sc2mapster.com/) - who provided NiNtoxicated with a good central resource for SC2 tools
    * der_Ton (http://www.doom3world.org/) - who worked on the MD5 format which is similar to M3
    * MrMoonKr - who provided NiNtoxicated a toUpper function to fix 3ds max incompatibility issues
    * Skizot - who helped NiNtoxicated with testing and providing suggestions to improve the script
    * Phygit - who provided NiNtoxicated with bug fixes and development information to do with the M3 format
    * ufoZ - who was One of the original people to reverse engineer the M2 format and to make a good maxscript importer from which NiNtoxicated importer/exporters were originally based
    * The SC2Mapster community (http://www.sc2mapster.com/) - who also collected information about m3 in the wiki: http://www.sc2mapster.com/wiki/sc2-api/game-files/models/model-header/
    * CaptainD001 - https://github.com/CaptainD001/M3_Import
    * Talv - who helped improving the structure.xml file
    * TangorCraft - who created the M3 Editor (https://github.com/tangorcraft/m3editor/) - which was very useful for decoding m3 structures
    * Solstice245 (sc2solstice245@gmail.com) - who helped improving the structure.xml file

    Please give credit to these people if you use the xml or the (generated) code in your own scripts.

-->
<structures>
    <structure name="Reference">
        <description>A reference to one or more entries in a file</description>
        <versions>
            <version number="0" size="12"/>
        </versions>
        <fields>
            <field name="entries" type="uint32"/>
            <field name="index" type="uint32"/>
            <field name="flags" type="uint32"/>
        </fields>
    </structure>

    <structure name="SmallReference" >
        <description>A reference to one or more entries in a file</description>
        <versions>
            <version number="0" size="8"/>
        </versions>
        <fields>
            <field name="entries" type="uint32"/>
            <field name="index" type="uint32"/>
        </fields>
    </structure>

    <structure name="VEC2">
        <description>A Vector with 2 components</description>
        <versions>
            <version number="0" size="8"/>
        </versions>
        <fields>
            <field name="x" type="float"/>
            <field name="y" type="float"/>
        </fields>
    </structure>

    <structure name="VEC3">
        <description>A Vector with 3 components</description>
        <versions>
            <version number="0" size="12"/>
        </versions>
        <fields>
            <field name="x" type="float"/>
            <field name="y" type="float"/>
            <field name="z" type="float"/>
        </fields>
    </structure>

    <structure name="VEC4">
        <description>A Vector with 4 components</description>
        <versions>
            <version number="0" size="16"/>
        </versions>
        <fields>
            <field name="x" type="float"/>
            <field name="y" type="float"/>
            <field name="z" type="float"/>
            <field name="w" type="float"/>
        </fields>
    </structure>

    <structure name="QUAT">
        <description>A Quaternion </description>
        <versions>
            <version number="0" size="16"/>
        </versions>
        <fields>
            <field name="x" type="float"/>
            <field name="y" type="float"/>
            <field name="z" type="float"/>
            <field name="w" type="float"/>
        </fields>
    </structure>
    <structure name="Matrix44">
        <description>A 4x4 Matrix</description>
        <versions>
            <version number="0" size="64"/>
        </versions>
        <fields>
            <field name="x" type="VEC4V0"/>
            <field name="y" type="VEC4V0"/>
            <field name="z" type="VEC4V0"/>
            <field name="w" type="VEC4V0"/>
        </fields>
    </structure>
    <structure name="Vector3As3Fixed8">
        <description>A vector out of 3 bytes which must be converted with the formula (((i / 255.0) * 2) -1) to get the actual float value</description>
        <versions>
            <version number="0" size="3"/>
        </versions>
        <fields>
            <field name="x" type="fixed8"/>
            <field name="y" type="fixed8"/>
            <field name="z" type="fixed8"/>
        </fields>
    </structure>
    <structure name="Vector2As2int16">
        <description>A vector out of int16 values which must be converted with the formula (i / 2048.0) to get the actual float value</description>
        <versions>
            <version number="0" size="4"/>
        </versions>
        <fields>
            <field name="x" type="int16"/>
            <field name="y" type="int16"/>
        </fields>
    </structure>
    <structure name="COL">
        <description>Defines a color with alpha using 1 byte for each color component</description>
        <versions>
            <version number="0" size="4"/>
        </versions>
        <fields>
            <field name="b" type="uint8"/>
            <field name="g" type="uint8"/>
            <field name="r" type="uint8"/>
            <field name="a" type="uint8"/>
        </fields>
    </structure>
    <structure name="FLAG">
        <description>Used by animations, propably to store multiple flags as it js not just 0 and 1</description>
        <versions>
            <version number="0" size="4"/>
        </versions>
        <fields>
            <field name="value" type="uint32"/>
        </fields>
    </structure>
    <structure name="BNDS">
        <description>
            Describes the rough shape of an object.
            Center of bounding sphere =  (extend0 + extend1)/2
        </description>
        <versions>
            <version number="0" size="28"/>
        </versions>
        <fields>
            <field name="minBorder" type="VEC3V0"/>
            <field name="maxBorder" type="VEC3V0"/>
            <!-- bounding_sphere_center = (extend0 + extend1)/2-->
            <field name="radius" type="float"/>
        </fields>
    </structure>
    <structure name="AnimationReferenceHeader">
        <description>
            The header of a reference to an animation entry

            interpolationType: 0=constant, 1=linear
            animFlags seems to be 6 if the animation reference is valid and 0 otherwise
            animId seem to be random but unique numbers
        </description>
        <versions>
            <version number="0" size="8"/>
        </versions>
        <fields>
            <field name="interpolation" type="uint16"/>
            <field name="flags" type="uint16"/>
            <field name="id" type="uint32"/>
        </fields>
    </structure>
    <structure name="Vector3AnimationReference">
        <description>Animateable vector with 3 components</description>
        <versions>
            <version number="0" size="36"/>
        </versions>
        <fields>
            <field name="header" type="AnimationReferenceHeader"/>
            <field name="default" type="VEC3V0"/>
            <field name="null" type="VEC3V0"/>
            <field name="unknown" type="int32" default-value="0" />
        </fields>
    </structure>
    <structure name="SVC3" >
        <description>
            Vector 3 animation reference
        </description>
        <versions>
            <version number="0" size="36"/>
        </versions>
        <fields>
            <field name="location" type="Vector3AnimationReferenceV0"/>
        </fields>
    </structure>
    <structure name="Vector2AnimationReference">
        <description>Animatable vector with 2 components</description>
        <versions>
            <version number="0" size="28"/>
        </versions>
        <fields>
            <field name="header" type="AnimationReferenceHeader"/>
            <field name="default" type="VEC2V0"/>
            <field name="null" type="VEC2V0"/>
            <field name="unknown" type="int32" default-value="0" />
        </fields>
    </structure>
    <structure name="QuaternionAnimationReference">
        <description>Animatable vector4</description>
        <versions>
            <version number="0" size="44"/>
        </versions>
        <fields>
            <field name="header" type="AnimationReferenceHeader"/>
            <field name="default" type="QUAT"/>
            <field name="null" type="QUAT"/>
            <field name="unknown" type="int32" default-value="0" />
        </fields>
    </structure>
    <structure name="UInt32AnimationReference">
        <description>Animatable  uint32</description>
        <versions>
            <version number="0" size="20"/>
        </versions>
        <fields>
            <field name="header" type="AnimationReferenceHeader"/>
            <field name="default" type="uint32"/>
            <field name="null" type="uint32"/>
            <field name="unknown" type="int32" default-value="0" />
        </fields>
    </structure>
    <structure name="UInt16AnimationReference">
        <description>Animatable uint16</description>
        <versions>
            <version number="0" size="16"/>
        </versions>
        <fields>
            <field name="header" type="AnimationReferenceHeader"/>
            <field name="default" type="uint16"/>
            <field name="null" type="uint16"/>
            <field name="unknown" type="int32" default-value="0" />
        </fields>
    </structure>
    <structure name="Int16AnimationReference">
        <description>Animatable int16</description>
        <versions>
            <version number="0" size="16"/>
        </versions>
        <fields>
            <field name="header" type="AnimationReferenceHeader"/>
            <field name="default" type="int16"/>
            <field name="null" type="int16"/>
            <field name="unknown" type="int32" default-value="0" />
        </fields>
    </structure>
    <structure name="UInt8AnimationReference">
        <description>Animatable uint8</description>
        <versions>
            <version number="0" size="14"/>
        </versions>
        <fields>
            <field name="header" type="AnimationReferenceHeader"/>
            <field name="default" type="uint8"/>
            <field name="null" type="uint8"/>
            <field name="unknown" type="int32" default-value="0" />
        </fields>
    </structure>
    <structure name="FloatAnimationReference">
        <description>Animatable float</description>
        <versions>
            <version number="0" size="20"/>
        </versions>
        <fields>
            <field name="header" type="AnimationReferenceHeader"/>
            <field name="default" type="float"/>
            <field name="null" type="float"/>
            <field name="unknown" type="int32" default-value="0" />
        </fields>
    </structure>
    <structure name="Unknown4ByteAnimationReference">
        <description>Animatable of unknown type with 4 bytes (e.g. could be a float or color animation reference)</description>
        <versions>
            <version number="0" size="20"/>
        </versions>
        <fields>
            <field name="header" type="AnimationReferenceHeader"/>
            <field name="default" size="4" default-value="0x00000000"/>
            <field name="null" size="4" default-value="0x00000000"/>
            <field name="unknown" type="int32" default-value="0" />
        </fields>
    </structure>
    <structure name="ColorAnimationReference">
        <description>Animatable color</description>
        <versions>
            <version number="0" size="20"/>
        </versions>
        <fields>
            <field name="header" type="AnimationReferenceHeader"/>
            <field name="default" type="COL"/>
            <field name="null" type="COL"/>
            <field name="unknown" type="int32" default-value="0" />
        </fields>
    </structure>
    <structure name="FlagAnimationReference">
        <description>Animatable boolean</description>
        <versions>
            <version number="0" size="20"/>
        </versions>
        <fields>
            <field name="header" type="AnimationReferenceHeader"/>
            <field name="default" type="uint32"/>
            <field name="null" type="uint32"/>
            <field name="unknown" type="int32" default-value="0" />
        </fields>
    </structure>
    <structure name="BNDSAnimationReference">
        <description>Animatable boundings</description>
        <versions>
            <version number="0" size="68"/>
        </versions>
        <fields>
            <field name="header" type="AnimationReferenceHeader"/>
            <field name="default" type="BNDS"/>
            <field name="null" type="BNDS"/>
            <field name="unknown" type="int32" default-value="0" />
        </fields>
    </structure>
    <structure name="SR32">
        <description>Float animation reference</description>
        <versions>
            <version number="0" size="20"/>
        </versions>
        <fields>
            <field name="value" type="FloatAnimationReferenceV0"/>
        </fields>
    </structure>
    <structure name="REAL">
        <description>A float</description>
        <versions>
            <version number="0" size="4"/>
        </versions>
        <fields>
            <field name="value" type="float"/>
        </fields>
    </structure>
    <structure name="CHAR">
        <description>An one byte character. An array always terminates with 0.</description>
        <versions>
            <version number="0" size="1"/>
        </versions>
        <fields>
            <field name="value" type="uint8"/>
        </fields>
    </structure>
    <structure name="U8__">
        <description>An unsigned integer</description>
        <versions>
            <version number="0" size="1"/>
        </versions>
        <fields>
            <field name="value" type="uint8"/>
        </fields>
    </structure>
    <structure name="I16_">
        <description>An signed integer with 16 bits</description>
        <versions>
            <version number="0" size="2"/>
        </versions>
        <fields>
            <field name="value" type="int16"/>
        </fields>
    </structure>
    <structure name="U16_">
        <description>An unsigned integer with 16 bits</description>
        <versions>
            <version number="0" size="2"/>
        </versions>
        <fields>
            <field name="value" type="uint16"/>
        </fields>
    </structure>
    <structure name="I32_">
        <description>An signed integer </description>
        <versions>
            <version number="0" size="4"/>
        </versions>
        <fields>
            <field name="value" type="int32"/>
        </fields>
    </structure>
    <structure name="U32_" >
        <description>An unsigned integer</description>
        <versions>
            <version number="0" size="4"/>
        </versions>
        <fields>
            <field name="value" type="uint32"/>
        </fields>
    </structure>
    <structure name="U64_" >
        <description>An unsigned integer</description>
        <versions>
            <version number="0" size="8"/>
        </versions>
        <fields>
            <field name="value0" type="uint8"/>
            <field name="value1" type="uint8"/>
            <field name="value2" type="uint8"/>
            <field name="value3" type="uint8"/>
            <field name="value4" type="uint8"/>
            <field name="value5" type="uint8"/>
            <field name="value6" type="uint8"/>
            <field name="value7" type="uint8"/>
        </fields>
    </structure>
    <structure name="MD34IndexEntry">
        <description>Entry of the tag index. Position and size of the tag index gets desribed by MD34</description>
        <versions>
            <version number="0" size="16"/>
        </versions>
        <fields>
            <field name="tag" type="tag"/>
            <field name="offset" type="uint32"/>
            <field name="repetitions" type="uint32"/>
            <field name="version" type="uint32"/>
        </fields>
    </structure>
    <structure name="VertexFormat0x182027d">
        <description>Vertex with one UV coordinate and vertex color</description>
        <versions>
            <version number="0" size="36"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="col" type="COL"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/> <!-- Can be -1.0 in old 3ds max exporter files -->
        </fields>
    </structure>
    <structure name="VertexFormat0x182007d" >
        <description>Vertex with one UV coordinate</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>
    <structure name="VertexFormat0x186007d" >
        <description>Vertex with two UV coordinates</description>
        <versions>
            <version number="0" size="36"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>
    <structure name="VertexFormat0x186027d" >
        <description>Vertex with two UV coordinates and vertex color</description>
        <versions>
            <version number="0" size="40"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="col" type="COL"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>
    <structure name="VertexFormat0x18e007d">
        <description>Vertex with three UV coordinates</description>
        <versions>
            <version number="0" size="40"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="uv2" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>
    <structure name="VertexFormat0x18e027d" >
        <description>Vertex with three UV coordinates and vertex color</description>
        <versions>
            <version number="0" size="44"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="col" type="COL"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="uv2" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>
    <structure name="VertexFormat0x19e007d" >
        <description>Vertex with four UV coordinates</description>
        <versions>
            <version number="0" size="44"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="uv2" type="Vector2As2int16V0"/>
            <field name="uv3" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>

    <structure name="VertexFormat0x19e027d" >
        <description>Vertex with four UV coordinates and vertex color</description>
        <versions>
            <version number="0" size="48"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="col" type="COL"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="uv2" type="Vector2As2int16V0"/>
            <field name="uv3" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>

    <structure name="VertexFormat0x1820261">
        <description>Vertex with one UV coordinate and vertex color</description>
        <versions>
            <version number="0" size="36"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="col" type="COL"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/> <!-- Can be -1.0 in old 3ds max exporter files -->
        </fields>
    </structure>
    <structure name="VertexFormat0x1820061" >
        <description>Vertex with one UV coordinate</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>
    <structure name="VertexFormat0x1860061" >
        <description>Vertex with two UV coordinates</description>
        <versions>
            <version number="0" size="36"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>
    <structure name="VertexFormat0x1860261" >
        <description>Vertex with two UV coordinates and vertex color</description>
        <versions>
            <version number="0" size="40"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="col" type="COL"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>
    <structure name="VertexFormat0x18e0061">
        <description>Vertex with three UV coordinates</description>
        <versions>
            <version number="0" size="40"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="uv2" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>
    <structure name="VertexFormat0x18e0261" >
        <description>Vertex with three UV coordinates and vertex color</description>
        <versions>
            <version number="0" size="44"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="col" type="COL"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="uv2" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>
    <structure name="VertexFormat0x19e0061" >
        <description>Vertex with four UV coordinates</description>
        <versions>
            <version number="0" size="44"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="uv2" type="Vector2As2int16V0"/>
            <field name="uv3" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>

    <structure name="VertexFormat0x19e0261" >
        <description>Vertex with four UV coordinates and vertex color</description>
        <versions>
            <version number="0" size="48"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="col" type="COL"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="uv2" type="Vector2As2int16V0"/>
            <field name="uv3" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>

    <structure name="VertexFormat0x4182007d">
        <description>Vertex with two UV coordinates</description>
        <versions>
            <version number="0" size="36"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>

    <structure name="VertexFormat0x41820261">
        <description></description>
        <versions>
            <version number="0" size="40"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="col" type="COL"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>

    <structure name="VertexFormat0x41860261" >
        <description></description>
        <versions>
            <version number="0" size="44"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="color" type="COL"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="uv2" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>

    <structure name="VertexFormat0x4186007d" >
        <description></description>
        <versions>
            <version number="0" size="40"/>
        </versions>
        <fields>
            <field name="pos" type="VEC3V0"/>
            <field name="weight0" type="uint8" default-value="0"/>
            <field name="weight1" type="uint8" default-value="0"/>
            <field name="weight2" type="uint8" default-value="0"/>
            <field name="weight3" type="uint8" default-value="0"/>
            <field name="bone0" type="uint8" default-value="0"/>
            <field name="bone1" type="uint8" default-value="0"/>
            <field name="bone2" type="uint8" default-value="0"/>
            <field name="bone3" type="uint8" default-value="0"/>
            <field name="normal" type="Vector3As3Fixed8V0"/>
            <field name="sign" type="fixed8"/>
            <field name="uv0" type="Vector2As2int16V0"/>
            <field name="uv1" type="Vector2As2int16V0"/>
            <field name="uv2" type="Vector2As2int16V0"/>
            <field name="tan" type="Vector3As3Fixed8V0"/>
            <field name="unused" type="fixed8" default-value="1.0"/>
        </fields>
    </structure>

    <structure name="EVNT">
        <description>An animation sequence event</description>
        <versions>
            <version number="0" size="100"/>
            <version number="1" size="104"/>
            <version number="2" size="108"/>
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="unknown76ff2940" type="int32" expected-value="-1"/>
            <field name="bone" type="int16" default-value="-1"/>
            <field name="unknown294cc515" type="uint16" expected-value="0"/>
            <field name="matrix" type="Matrix44"/>
            <field name="unknown7275bfa0" type="uint32" default-value="4"/> <!-- some kind of type (enum) ? -->
            <field name="payload" type="Reference" refTo="CHAR"/>
            <field name="unknown76cf1db0" type="uint32" expected-value="0" since-version="1"/>
            <field name="unknowne5f1b2a7" type="uint32" expected-value="0" since-version="2"/>
        </fields>
    </structure>

    <structure name="SDEV">
        <description>Event Key Frames Animation block with reference to EVNT</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="frames" type="Reference" refTo="I32_"/>
            <field name="flags" type="uint32"/>
            <field name="fend" type="uint32"/>
            <field name="keys" type="Reference" refTo="EVNT"/>
        </fields>
    </structure>

    <structure name="SD2V">
        <description>Vector 2 Animation block with reference to VEC2</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="frames" type="Reference" refTo="I32_"/>
            <field name="flags" type="uint32"/>
            <field name="fend" type="uint32"/>
            <field name="keys" type="Reference" refTo="VEC2"/>
        </fields>
    </structure>

    <structure name="SD3V">
        <description>Vector 3 Animation block with reference to VEC3</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="frames" type="Reference" refTo="I32_"/>
            <field name="flags" type="uint32"/>
            <field name="fend" type="uint32"/>
            <field name="keys" type="Reference" refTo="VEC3"/>
        </fields>
    </structure>

    <structure name="SDR3">
        <description>Animation block with reference to REAL(float array)</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="frames" type="Reference" refTo="I32_"/>
            <field name="flags" type="uint32"/>
            <field name="fend" type="uint32"/>
            <field name="keys" type="Reference" refTo="REAL"/>
        </fields>
    </structure>

    <structure name="SDCC">
        <description>Animation block with reference to COL (Color)</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="frames" type="Reference" refTo="I32_"/>
            <field name="flags" type="uint32"/>
            <field name="fend" type="uint32"/>
            <field name="keys" type="Reference" refTo="COL"/>
        </fields>
    </structure>

    <structure name="SDS6">
        <description>Animation block with reference to I16_</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="frames" type="Reference" refTo="I32_"/>
            <field name="flags" type="uint32"/>
            <field name="fend" type="uint32"/>
            <field name="keys" type="Reference" refTo="I16_"/>
        </fields>
    </structure>

    <structure name="SDU6">
        <description>Animation block with reference to U16_</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="frames" type="Reference" refTo="I32_"/>
            <field name="flags" type="uint32"/>
            <field name="fend" type="uint32"/>
            <field name="keys" type="Reference" refTo="U16_"/>
        </fields>
    </structure>


    <structure name="SDU3">
        <description>Animation block with unknown refrenence</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="frames" type="Reference" refTo="I32_"/>
            <field name="flags" type="uint32"/>
            <field name="fend" type="uint32"/>
            <field name="keys" type="Reference" refTo="U32_"/>
        </fields>
    </structure>

    <structure name="SD4Q">
        <description>Animation block with reference to QUAT</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="frames" type="Reference" refTo="I32_"/>
            <field name="flags" type="uint32"/>
            <field name="fend" type="uint32"/>
            <field name="keys" type="Reference" refTo="QUAT"/>
        </fields>
    </structure>

    <structure name="SDFG">
        <description>Animation block with reference to FLAG</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="frames" type="Reference" refTo="I32_"/>
            <field name="flags" type="uint32"/>
            <field name="fend" type="uint32"/>
            <field name="keys" type="Reference" refTo="FLAG"/>
        </fields>
    </structure>

    <structure name="SDMB">
        <description>Animation block with reference to BNDS</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="frames" type="Reference" refTo="I32_"/>
            <field name="flags" type="uint32"/>
            <field name="fend" type="uint32"/>
            <field name="keys" type="Reference" refTo="BNDS"/>
        </fields>
    </structure>



    <structure name="BONE">
        <description>A bone</description>
        <versions>
            <version number="1" size="160"/>
        </versions>
        <fields>
            <field name="d1" type="int32" default-value="-1"/>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="flags" type="uint32" default-value="0" >
                <bits>
                    <bit mask="0x1" name="inheritTranslation"/>
                    <bit mask="0x2" name="inheritScale"/>
                    <bit mask="0x4" name="inheritRotation"/>
                    <bit mask="0x10" name="billboard1"/>
                    <bit mask="0x40" name="billboard2"/>
                    <bit mask="0x100" name="twoDProjection"/>
                    <bit mask="0x200" name="animated"/>
                    <bit mask="0x400" name="inverseKinematics"/>
                    <bit mask="0x800" name="skinned"/>
                    <bit mask="0x2000" name="real"/>
                </bits>
            </field>
            <field name="parent" type="int16" default-value="-1"/>
            <field name="s1" type="uint16" expected-value="0"/>
            <field name="location" type="Vector3AnimationReferenceV0"/>
            <field name="rotation" type="QuaternionAnimationReferenceV0"/>
            <field name="scale" type="Vector3AnimationReferenceV0"/>
            <field name="ar1" type="UInt32AnimationReferenceV0"/>
        </fields>
    </structure>

    <structure name="STC_">
        <description>Sequence Transformations Collection of a Sub Animation
            animId: array of animation ids
            animref: array of integers is actually an array of short pairs:
            first 2 bytes: index which determines the field in this struct and thus kind
            of the animation data.
                e.g. 0 -> sdev, 1 -> sd2v etc.
            second: index in animation reference. e.g. sdev[index]

            There also seems to be always be the animation id:
            0x65bd3215 which referes to sdev[0] which has a name called "Evt_SeqEnd"
            Strangly it gets from no where referenced and is always the same id
            </description>
        <versions>
            <version number="4" size="204"/>
        </versions>
        <fields>
            <field name="name" type="Reference"  refTo="CHAR"/>
            <field name="runsConcurrent" type="uint16" default-value="0"/>
            <field name="priority" type="uint16" default-value="0"/>
            <field name="stsIndex" type="uint16"/>
            <field name="stsIndexCopy" type="uint16"/>
            <field name="animIds" type="Reference" refTo="U32_"/>
            <field name="animRefs" type="Reference" refTo="U32_"/>
            <field name="unknownAt44" type="uint32" expected-value="0"/>
            <field name="sdev" type="Reference" refTo="SDEV"/>
            <field name="sd2v" type="Reference" refTo="SD2V"/>
            <field name="sd3v" type="Reference" refTo="SD3V"/>
            <field name="sd4q" type="Reference" refTo="SD4Q"/>
            <field name="sdcc" type="Reference" refTo="SDCC"/>
            <field name="sdr3" type="Reference" refTo="SDR3"/>
            <field name="unknownRef8" type="Reference"/>
            <field name="sds6" type="Reference" refTo="SDS6"/>
            <field name="sdu6" type="Reference" refTo="SDU6"/>
            <field name="unknownRef11" type="Reference"/>
            <field name="sdu3" type="Reference" refTo="SDU3"/>
            <field name="sdfg" type="Reference" refTo="SDFG"/>
            <field name="sdmb" type="Reference" refTo="SDMB"/>
        </fields>
    </structure>

    <structure name="SEQS">
        <description>Animation Sequence</description>
        <versions>
            <version number="1" size="96"/>
            <version number="2" size="92"/>
        </versions>
        <fields>
            <field name="unknown0" type="int32" default-value="-1"/>
            <field name="unknown1" type="int32" default-value="-1"/>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="animStartInMS" type="uint32"/>
            <field name="animEndInMS" type="uint32"/>
            <field name="movementSpeed" type="float"/>
            <field name="flags" type="uint32" default-value="0" >
                <bits>
                    <bit mask="0x1" name="notLooping"/>
                    <bit mask="0x2" name="alwaysGlobal"/>
                    <bit mask="0x8" name="globalInPreviewer"/>
                </bits>
            </field>
            <field name="frequency" type="uint32"/>
            <field name="unknown2" type="uint32" expected-value="1"/>
            <field name="unknown3" type="uint32" expected-value="1"/>
            <field name="unknown4" type="uint32" expected-value="100"/>
            <field till-version="1" name="unknown5" type="uint32" default-value="0"/>
            <field name="boundingSphere" type="BNDS"/>
            <field name="unknownRefSEQSBeta01" type="Reference"/>
        </fields>
    </structure>

    <structure name="STG_">
        <description>
            Seqeuence Transformation Group which can contain multiple STCs
            referenced by index as they are listed in the model.
            </description>
        <versions>
            <version number="0" size="24"/>
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="stcIndices" type="Reference" refTo="U32_"/>
        </fields>
    </structure>

    <structure name="STS_">
        <description></description>
        <versions>
            <version number="0" size="28"/>
        </versions>
        <fields>
            <field name="animIds" type="Reference" refTo="U32_"/>
            <field name="unknown0" type="int32" expected-value="-1"/>
            <field name="unknown1" type="int32" expected-value="-1"/>
            <field name="unknown2" type="int32" expected-value="-1"/>
            <field name="s1" type="int16" expected-value="-1"/>
            <field name="s2" type="uint16" expected-value="0"/>
        </fields>
    </structure>

    <structure name="IREF">
        <description>Just a 4x4 matrix</description>
        <versions>
            <version number="0" size="64"/>
        </versions>
        <fields>
            <field name="matrix" type="Matrix44"/>
        </fields>
    </structure>

    <structure name="REGN">
        <description>A region of a mesh</description>
        <versions>
            <version number="2" size="28"/>
            <version number="3" size="36"/>
            <version number="4" size="40"/>
            <version number="5" size="48"/>
        </versions>
        <fields>
            <field name="unknown0" type="uint32" expected-value="0"/>
            <field name="unknown1" type="uint32" expected-value="0" since-version="3"/>
            <field name="first_vertex_index" type="uint16" till-version="2"/>
            <field name="vertex_count" type="uint16" till-version="2"/>
            <field name="first_vertex_index" type="uint32" since-version="3"/>
            <field name="vertex_count" type="uint32" since-version="3"/>
            <field name="first_face_index" type="uint32"/>
            <field name="face_count" type="uint32"/>
            <field name="bone_count" type="uint16"/>
            <field name="first_bone_lookup_index" type="uint16"/>
            <field name="bone_lookup_count" type="uint16"/>
            <field name="unknown2" type="uint16" expected-value="0"/>
            <field name="bone_weight_pairs_per_vertex" type="uint8"/>
            <field name="unknown4" type="uint8" default-value="1"/>
            <field name="rootbone" type="uint16"/>
            <field name="flags" type="uint32" since-version="4">
                <bits>
                    <bit mask='0x1' name='hidden'/>
                    <bit mask='0x2' name='placeholder'/>
                    <bit mask='0x4' name='cloth_simulator'/>
                    <bit mask='0x8' name='cloth_influenced'/>
                </bits>
            </field>
            <field name="uv_multiply" type="float" default-value="16.0" since-version="5"/>
            <field name="uv_offset" type="float" default-value="0.0" since-version="5"/>
        </fields>
    </structure>

    <structure name="BAT_">
        <description></description>
        <versions>
            <version number="1" size="14"/>
        </versions>
        <fields>
            <field name="unknown0" type="uint32" expected-value="0"/>
            <field name="region_index" type="uint16"/>
            <field name="unknown1" type="uint32" default-value="0"/>
            <field name="materialReferenceIndex" type="uint16"/>
            <field name="unknown2" type="int16" default-value="-1"/>
        </fields>
    </structure>

    <structure name="MSEC">
        <description></description>
        <versions>
            <version number="1" size="72"/>
        </versions>
        <fields>
            <field name="unknown0" type="uint32" default-value="0"/>
            <field name="boundingsAnimation" type="BNDSAnimationReferenceV0"/>
        </fields>
    </structure>

    <structure name="DIV_">
        <description>Mesh Division</description>
        <versions>
            <version number="2" size="52"/>
        </versions>
        <fields>
            <field name="faces" type="Reference" refTo="U16_"/>
            <field name="regions" type="Reference" refTo="REGN"/>
            <field name="objects" type="Reference" refTo="BAT_"/>
            <field name="msec" type="Reference" refTo="MSEC"/>
            <!-- m3: 1, m3a: 0 -->
            <field name="unknown" type="uint32" default-value="1"/>
        </fields>
    </structure>

    <structure name="ATT_">
        <description>Attachment Point</description>
        <versions>
            <version number="1" size="20"/>
        </versions>
        <fields>
            <field name="unknown" type="int32" expected-value="-1"/>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="bone" type="uint32"/>
        </fields>
    </structure>

    <structure name="LITE">
        <description>Light types: 0=directional 1=point 2=spot, hotSpot expressed in radians</description>
        <versions>
            <version number="7" size="212"/>
        </versions>
        <fields>
            <field name="shape" type="uint16"/>
            <field name="bone" type="uint16"/>
            <field name="flags" type="uint32">
                <bits>
                    <bit mask="0x1" name="shadows"/>
                    <bit mask="0x2" name="spec"/> <!-- Only works in cutscene editor, and not in-game -->
                    <bit mask="0x4" name="ao"/>
                    <bit mask="0x8" name="light_opaque"/>
                    <bit mask="0x10" name="light_transparent"/>
                    <bit mask="0x20" name="team_color"/>
                </bits>
            </field>
            <field name="lod_cut" type="uint32" default-value="0"/>
            <field name="shadow_lod_cut" type="uint32" default-value="0"/>
            <field name="color" type="Vector3AnimationReferenceV0"/>
            <field name="intensity" type="FloatAnimationReferenceV0"/>
            <field name="spec_color" type="Vector3AnimationReferenceV0"/>
            <field name="spec_intensity" type="FloatAnimationReferenceV0"/>
            <field name="attenuation_far" type="FloatAnimationReferenceV0"/>
            <field name="unknownAt148" type="float"/>
            <field name="attenuation_near" type="FloatAnimationReferenceV0"/>
            <field name="hotspot" type="FloatAnimationReferenceV0"/>
            <field name="falloff" type="FloatAnimationReferenceV0"/>
        </fields>
    </structure>

    <structure name="MATM">
        <description>A reference to a material of a specified type</description>
        <versions>
            <version number="0" size="8"/>
        </versions>
        <fields>
            <field name="type" type="uint32" default-value="1"/>
            <field name="index" type="uint32"/>
        </fields>
    </structure>

    <structure name="PATU">
        <description>Part of Turret</description>
        <versions>
            <version number="1" size="100"/>
            <version number="4" size="152"/>
        </versions>
        <fields>
            <field name="matrix" type="Matrix44" till-version="1"/>
            <field name="forward_x" type="VEC4V0" since-version="4"/>
            <field name="forward_y" type="VEC4V0" since-version="4"/>
            <field name="forward_z" type="VEC4V0" since-version="4"/>
            <field name="up_x" type="VEC4V0" since-version="4"/>
            <field name="up_y" type="VEC4V0" since-version="4"/>
            <field name="up_z" type="VEC4V0" since-version="4"/>
            <field name="bone" type="uint16"/>
            <field name="flags" type="uint8" default-value="0x0">
                <bits>
                    <bit mask="0x1" name="main_part"/>
                </bits>
            </field>
            <field name="group" type="uint8" default-value="1"/>
            <field name="yaw_flags" type="uint32" default-value="0x2">
                <bits>
                    <bit mask="0x2" name="yaw_limited"/>
                </bits>
            </field>
            <field name="yaw_min" type="float" default-value="0.0"/>
            <field name="yaw_max" type="float" default-value="0.0"/>
            <field name="yaw_weight" type="float" default-value="0.0" since-version="4"/>
            <field name="pitch_flags" type="uint32" default-value="0x2">
                <bits>
                    <bit mask="0x2" name="pitch_limited"/>
                </bits>
            </field>
            <field name="pitch_min" type="float" default-value="0.0"/>
            <field name="pitch_max" type="float" default-value="0.0"/>
            <field name="pitch_weight" type="float" default-value="0.0" since-version="4"/>
            <field name="unknownAt132" type="float" default-value="0.0"/>
            <field name="unknownAt136" type="float" default-value="0.0"/>
            <field name="unknownAt140" type="float" default-value="0.0" since-version="4"/>
            <field name="unknownAt144" type="float" default-value="0.0" since-version="4"/>
            <field name="unknownAt148" type="float" default-value="0.0" since-version="4"/>
        </fields>
    </structure>

    <structure name="TRGD">
        <description>Turret Behavior</description>
        <versions>
            <version number="0" size="24"/>
        </versions>
        <fields>
            <!-- List of indices for the PATU list defined in the model -->
            <field name="partIndex" type="Reference" refTo="U32_"/>
            <field name="name" type="Reference" refTo="CHAR"/>
        </fields>
    </structure>

    <structure name="MT32">
        <description>MT32</description>
        <versions>
            <version number="0" size="28"/>
        </versions>
        <fields>
            <field name="unknown4c11db70" type="uint32"/>
            <field name="unknown2e003dc5" type="uint32"/>
            <field name="unknownfa325055" type="uint32"/>
            <field name="unknown902b669d" type="uint32"/>
            <field name="unknownb6238b25" type="uint32"/>
            <field name="unknown44190b0d" type="uint32"/>
            <field name="unknownfbb8bb46" type="uint32"/>
        </fields>
    </structure>

    <structure name="DMMN">
        <description>DMMN</description>
        <versions>
            <version number="1" size="8"/>
        </versions>
        <fields>
            <field name="unknown31cd86d3" type="uint32"/>
            <field name="unknownff79a6f1" type="uint32"/>
        </fields>
    </structure>

    <structure name="LAYR">
        <description>Describes a layer of a material</description>
        <versions>
            <version number="20" size="356"/>
            <version number="21" size="356"/>
            <version number="22" size="356"/>
            <version number="24" size="436"/>
            <version number="25" size="468"/>
            <version number="26" size="464"/>
        </versions>
        <fields>
            <field name="unknown00" type="uint32" expected-value="0"/>
            <field name="color_bitmap" type="Reference" refTo="CHAR"/>
            <field name="color_value" type="ColorAnimationReferenceV0"/>
            <field name="flags" type="uint32" default-value="0xec">
                <bits>
                    <bit mask="0x4" name="uv_wrap_x"/>
                    <bit mask="0x8" name="uv_wrap_y"/>
                    <bit mask="0x10" name="invert"/>
                    <bit mask="0x20" name="clamp_output"/>
                    <bit mask="0x100" name="particle_flipbook"/>
                    <bit mask="0x200" name="video"/> <!-- if texture is ogg video -->
                    <bit mask="0x400" name="color"/>
                    <bit mask="0x4000" name="ignored_fresnel_flag1"/>
                    <bit mask="0x8000" name="ignored_fresnel_flag2"/>
                    <bit mask="0x10000" name="fresnel_local_transform"/>
                    <bit mask="0x20000" name="fresnel_no_mirror"/>
                </bits>
            </field>
            <field name="uv_source" type="uint32"/>
            <!--
                Allowed color_channels values:
                0: RGB
                1: RGBA (used for alpha)
                2: Alpha Only
                3: Red Only
                4: Green Only
                5: Blue Only
            -->
            <field name="color_channels" type="uint32" default-value="0"/>
            <field name="color_multiply" type="FloatAnimationReferenceV0"/>
            <field name="color_add" type="FloatAnimationReferenceV0"/>
            <!-- unknown3b61017a needs to be 2 for volume noise materials -->
            <field name="unknown3b61017a" type="uint32" default-value="0"/>
            <field name="noise_amplitude" type="float" default-value="0.8" since-version="24"/>
            <field name="noise_frequency" type="float" default-value="0.5" since-version="24"/>
            <field name="video_channel" type="int32" default-value="-1"/>
            <field name="video_frame_rate" type="uint32" default="0"/> <!-- if video is enabled default should be 24 -->
            <field name="video_frame_start" type="uint32" default="0"/>
            <field name="video_frame_end" type="int32" default-value="0"/> <!-- -1 means till the end-->
            <field name="video_mode" type="uint32" default-value="0"/><!-- 0 is loop, 1 is hold-->
            <field name="video_sync_timing" type="uint32" default-value="0"/><!-- boolean -->
            <field name="video_play" type="UInt32AnimationReferenceV0"/>  <!-- SDU3 is used for aniamtion-->
            <field name="video_restart" type="UInt32AnimationReferenceV0"/> <!-- SDFG is used for aniamtion-->
            <field name="uv_flipbook_rows" type="uint32" default-value="0"/>
            <field name="uv_flipbook_columns" type="uint32" default-value="0"/>
            <field name="uv_flipbook_frame" type="UInt16AnimationReferenceV0"/>
            <field name="uv_offset" type="Vector2AnimationReferenceV0"/>
            <field name="uv_angle" type="Vector3AnimationReferenceV0"/>
            <field name="uv_tiling" type="Vector2AnimationReferenceV0"/>
            <field name="unknowna4ec0796" type="UInt32AnimationReferenceV0"/>
            <field name="unknowna44bf452" type="FloatAnimationReferenceV0"/>
            <field name="color_brightness" type="FloatAnimationReferenceV0"/>
            <field name="uv_triplanar_offset" type="Vector3AnimationReferenceV0" since-version="24"/>
            <field name="uv_triplanar_scale" type="Vector3AnimationReferenceV0" since-version="24"/> <!-- default (1.0, 1.0, 1.0)-->
            <field name="unknownbd3f7b5d" type="int32" default-value="-1"/>
            <field name="fresnel_type" type="uint32" default-value="0"/>
            <field name="fresnel_exponent" type="float" default-value="4.0"/>
            <field name="fresnel_min" type="float" default-value="0.0"/>
            <field name="fresnel_max_offset" type="float" default-value="1.0"/><!-- fresnelMin + fresnelMaxOffset = fresnelMax-->
            <field name="unknown15" type="float" default-value="1.0"/>
            <field name="unknown16" type="uint32" default-value="0" since-version="25"/>
            <field name="unknown17" type="uint32" default-value="0" since-version="25"/>
            <field name="fresnel_inverted_mask_x" type="float" default-value="1.0" since-version="25"/> <!-- default=(1.0, 1.0, 1.0)-->
            <field name="fresnel_inverted_mask_y" type="float" default-value="1.0" since-version="25"/>
            <field name="fresnel_inverted_mask_z" type="float" default-value="1.0" since-version="25"/>
            <field name="fresnel_yaw" type="float" default-value="0.0" since-version="25"/>
            <field name="fresnel_pitch" type="float" default-value="0.0" since-version="25"/>
            <field till-version="25" name="unknowned0e748d" type="uint32" default-value="0" since-version="25"/>
        </fields>
    </structure>

    <structure name="MAT_">
        <description>Standard Material</description>
        <versions>
            <version number="15" size="268"/>
            <version number="16" size="280"/>
            <version number="17" size="280"/>
            <version number="18" size="280"/>
            <version number="19" size="340"/>
            <version number="20" size="352"/>
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="additional_flags" type="uint32" default-value="0">
                <bits>
                    <bit mask="0x1" name="depth_blend_falloff"/> <!-- always set if depthBlendFalloff is != 0.0 -->
                    <bit mask="0x4" name="vertex_color"/> <!-- calculated value: based on the flag useVertexColor. It is always set if the material is used by a particle system. -->
                    <bit mask="0x8" name="vertex_alpha"/> <!-- Calculated value: based on the flag useVertexColor and the particle flag makesUseOfVertexAlpha -->
                    <bit mask="0x200" name="unknown0x200"/>
                </bits>
            </field>
            <field name="flags" type="uint32" default-value="0" >
                <bits>
                    <!-- if useVertexColor is set, the following flags need also to be set:
                      * vertex_color of the additionaFlags field
                      * hasVertexColors of the vFlags field of the model
                    -->
                    <bit mask="0x1" name="useVertexColor"/>
                    <!-- if useVertexAlpha is set, the following flags need also to be set:
                      * vertex_alpha of the additionaFlags field
                      * hasVertexColors of the vFlags field of the model
                    -->
                    <bit mask="0x2" name="vertex_alpha"/>
                    <bit mask="0x4" name="unfogged"/>
                    <bit mask="0x8" name="two_sided"/>
                    <bit mask="0x10" name="unshaded"/>
                    <bit mask="0x20" name="no_shadows_cast"/>
                    <bit mask="0x40" name="no_hittest"/>
                    <bit mask="0x80" name="no_shadows_receive"/>
                    <bit mask="0x100" name="depth_prepass"/> <!-- Z Fill Pass -->
                    <bit mask="0x200" name="terrain_hdr"/>
                    <bit mask="0x400" name="unknown0x400"/>
                    <bit mask="0x800" name="simulate_roughness"/> <!-- formerly: splatUVfix -->
                    <bit mask="0x1000" name="pixel_forward_lighting"/> <!-- formerly: softBlending -->
                    <bit mask="0x2000" name="depth_fog"/>
                    <bit mask="0x4000" name="transparent_shadows"/> <!-- formerly: forParticles -->
                    <bit mask="0x8000" name="decal_lighting"/>
                    <bit mask="0x10000" name="transparent_depth_effects"/> <!-- formerly: transparency -->
                    <bit mask="0x20000" name="transparent_local_lights"/>
                    <bit mask="0x40000" name="disable_soft"/>
                    <bit mask="0x80000" name="double_lambert"/> <!-- actually doubleLambert -->
                    <bit mask="0x100000" name="hair_layer_sorting"/>
                    <bit mask="0x200000" name="accept_splats"/>
                    <bit mask="0x400000" name="decal_low_required"/>
                    <bit mask="0x800000" name="emissive_low_required"/>
                    <bit mask="0x1000000" name="specular_low_required"/>
                    <bit mask="0x2000000" name="accept_splats_only"/>
                    <bit mask="0x4000000" name="background_object"/>
                    <bit mask="0x8000000" name="unknown0x8000000"/>
                    <bit mask="0x10000000" name="depth_prepass_low_required"/>
                    <bit mask="0x20000000" name="no_highlighting"/>
                    <bit mask="0x40000000" name="clamp_output"/>
                    <bit mask="0x80000000" name="geometry_visible"/><!-- added in version 17. before it was 0 (always?) - it was not used -->
                </bits>
            </field>
            <field name="blend_mode" type="uint32"/>
            <field name="priority" type="int32"/>
            <field name="usedRTTChannels" type="uint32" default-value="0" >
                 <bits>
                    <bit mask="0x1" name="channel0"/>
                    <bit mask="0x2" name="channel1"/>
                    <bit mask="0x4" name="channel2"/>
                    <bit mask="0x8" name="channel3"/>
                    <bit mask="0x10" name="channel4"/>
                    <bit mask="0x20" name="channel5"/>
                    <bit mask="0x40" name="channel6"/>
               </bits>
            </field>
            <field name="specularity" type="float"/>
            <field name="depth_blend_falloff" type="float" default-value="0.0"/> <!-- Only used if the bit useDepthBlendFalloff of additionalFlags is set, typically set for particle systems -->
            <field name="cutout_threshold" type="uint32" default-value="0"/>
            <field name="spec_multiply" type="float" default-value="1.0"/>
            <field name="emis_multiply" type="float" default-value="1.0"/>
            <field name="envi_const_multiply" type="float" since-version="20" default-value="1.0"/>
            <field name="envi_diff_multiply" type="float" since-version="20" default-value="0.0"/>
            <field name="envi_spec_multiply" type="float" since-version="20" default-value="0.0"/>
            <field name="layer_diff" type="Reference" refTo="LAYR"/>
            <field name="layer_decal" type="Reference" refTo="LAYR"/>
            <field name="layer_spec" type="Reference" refTo="LAYR"/>
            <field name="layer_gloss" type="Reference" refTo="LAYR" since-version="16"/>
            <field name="layer_emis1" type="Reference" refTo="LAYR"/>
            <field name="layer_emis2" type="Reference" refTo="LAYR"/>
            <field name="layer_envi" type="Reference" refTo="LAYR"/>
            <field name="layer_envi_mask" type="Reference" refTo="LAYR"/>
            <field name="layer_alpha1" type="Reference" refTo="LAYR"/>
            <field name="layer_alpha2" type="Reference" refTo="LAYR"/>
            <field name="layer_norm" type="Reference" refTo="LAYR"/>
            <field name="layer_height" type="Reference" refTo="LAYR"/>
            <field name="layer_light" type="Reference" refTo="LAYR"/>
            <field name="layer_ao" type="Reference" refTo="LAYR"/>
            <field name="layer_norm_blend1_mask" type="Reference" refTo="LAYR" since-version="19"/>
            <field name="layer_norm_blend2_mask" type="Reference" refTo="LAYR" since-version="19"/>
            <field name="layer_norm_blend1" type="Reference" refTo="LAYR" since-version="19"/>
            <field name="layer_norm_blend2" type="Reference" refTo="LAYR" since-version="19"/>
            <field name="unknown2481ae8a" type="uint32" default-value="0"/>
            <field name="layr_blend_mode" type="uint32"/>
            <field name="emis_blend_mode" type="uint32"/>
            <field name="emis_mode" type="uint32"/>
            <field name="spec_mode" type="uint32"/>
            <field name="parallax_height" type="FloatAnimationReferenceV0"/>
            <field name="unknown_animation_ref" type="UInt32AnimationReferenceV0"/>
            <field name="normal_blend_mask_factor" type="Reference" refTo="SR32" since-version="19"/>
            <!-- ^ one element per each color channel of normalBlendMask1 and normalBlendMask2 - a maximum expected amount of elements is 8 (2 masks x RGBA) -->
        </fields>
    </structure>

    <structure name="DIS_">
        <description>
            Displacement Material
        </description>
        <versions>
            <version number="4" size="68"/>
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="unknown0" type="uint32" default-value="0"/>
            <field name="strength" type="FloatAnimationReferenceV0"/>
            <field name="layer_norm" type="Reference" refTo="LAYR"/>
            <field name="layer_strength" type="Reference" refTo="LAYR"/>
            <field name="flags" type="uint32" default-value="0"/>
            <field name="priority" type="int32"/>
        </fields>
    </structure>

    <structure name="CMS_">
        <description>Composite Material Section</description>
        <versions>
            <version number="0" size="24"/>
        </versions>
        <fields>
            <field name="materialReferenceIndex" type="uint32"/>
            <field name="alpha_factor" type="FloatAnimationReferenceV0"/>
        </fields>
    </structure>

    <structure name="CMP_">
        <description>Composite Material</description>
        <versions>
            <version number="2" size="28"/>
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="unknown" type="uint32" default-value="0"/> <!-- See: SM_MarSaraBar_00.m3 -->
            <field name="sections" type="Reference" refTo="CMS_"/>
        </fields>
    </structure>

    <structure name="TER_">
        <description>Terrain Material</description>
        <versions>
            <version number="0" size="24"/>
            <version number="1" size="28"/>
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="layer_terrain" type="Reference" refTo="LAYR"/>
            <field name="unknown633fd422" type="uint32" expected-value="0" since-version="1"/>
        </fields>
    </structure>

    <structure name="VOL_">
        <description>Volume Material</description>
        <versions>
            <version number="0" size="84"/>
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="unknown0" type="uint32" default-value="0"/> <!--Mar Sara bar -->
            <field name="unknown1" type="uint32" default-value="0"/> <!--Mar Sara bar -->
            <field name="volume_density" type="FloatAnimationReferenceV0"/>
            <field name="layer_color" type="Reference" refTo="LAYR"/>
            <field name="layer_unknown1" type="Reference" refTo="LAYR"/>
            <field name="layer_unknown2" type="Reference" refTo="LAYR"/>
            <field name="unknown2" type="uint32" expected-value="0"/>
            <field name="unknown3" type="uint32" expected-value="0x20"/>
        </fields>
    </structure>


    <structure name="VON_">
        <description>Volume Noise Material</description>
        <versions>
            <version number="0" size="268"/>
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="unknown50762f82" type="uint32" default-value="0"/>
            <field name="flags" type="uint32" default-value="0">
                <bits>
                    <bit mask="0x1" name="draw_after_transparency"/>
                </bits>
            </field>
            <field name="volume_density" type="FloatAnimationReferenceV0"/> <!-- maybe -->
            <field name="near_plane" type="FloatAnimationReferenceV0"/>
            <field name="falloff" type="FloatAnimationReferenceV0"/>
            <field name="layer_color" type="Reference" refTo="LAYR"/>
            <field name="layer_noise1" type="Reference" refTo="LAYR"/>
            <field name="layer_noise2" type="Reference" refTo="LAYR"/>
            <field name="scroll_rate" type="Vector3AnimationReferenceV0"/>
            <field name="translation" type="Vector3AnimationReferenceV0"/>
            <field name="scale" type="Vector3AnimationReferenceV0"/>
            <field name="rotation" type="Vector3AnimationReferenceV0"/>
            <field name="alpha_threshhold" type="uint32"/>
            <field name="unknown1d13acfe" type="uint32" default-value="32"/>
        </fields>
    </structure>

    <structure name="CREP">
        <description>Creep Material</description>
        <versions>
            <version number="0" size="24"/>
            <version number="1" size="28"/>
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="creepLayer" type="Reference" refTo="LAYR"/>
            <field name="unknownda1b4eb3" type="uint32" expected-value="0" since-version="1"/>
        </fields>
    </structure>

    <structure name="SCHR">
        <description>Unknown</description>
        <versions>
            <version number="0" size="12"/>
        </versions>
        <fields>
            <field name="path" type="Reference" refTo="CHAR"/>
        </fields>
    </structure>

    <structure name="STBM">
    <description>Splat Terrain Bake Material</description>
        <versions>
            <version number="0" size="48"/>
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="layer_diff" type="Reference" refTo="LAYR"/>
            <field name="layer_norm" type="Reference" refTo="LAYR"/>
            <field name="layer_spec" type="Reference" refTo="LAYR"/>
        </fields>
    </structure>

    <structure name="LFSB">
        <description>
            Lens Flare Material Substructure
        </description>
        <versions>
            <version number="2" size="56"/>
        </versions>
        <fields>
           <field name="uv_index" type="uint32" default-value="0"/>
           <field name="distance_factor" type="float" default-value="1.0"/>
           <field name="width" type="float" default-value="3200.0"/>
           <field name="height" type="float" default-value="500.0"/>
           <field name="width_falloff" type="float" default-value="1200.0"/>
           <field name="height_falloff" type="float" default-value="150.0"/>
           <field name="unk00" type="uint32" default-value="0"/> <!-- these unknown fields are possibly related to unknown layer, but more research will be needed -->
           <field name="unk01" type="uint32" default-value="0"/>
           <field name="falloff_threshold" type="float" default-value="0"/>
           <field name="falloff_rate" type="float" default-value="1.0"/>
           <field name="color" type="COL" default-value="0x80ffffff"/>
           <field name="flag_face_source" type="uint32" default-value="0"/>
           <field name="unk02" type="float" default-value="0.0"/>
           <field name="unk03" type="float" default-value="0.0"/>
        </fields>
    </structure>

    <structure name="LFLR">
        <description>
            Lens Flare Material
        </description>
        <versions>
            <version number="2" size="80"/>
            <version number="3" size="152"/>
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="color_layer" type="Reference" refTo="LAYR"/>
            <field name="unknown_layer" type="Reference" refTo="LAYR"/>
            <field name="starbursts" type="Reference" refTo="LFSB"/>
            <field name="unknown7f492c0a" type="uint32" default-value="0x40000000" till-version="2"/>
            <field name="unk00" type="uint32" till-version="2"/>
            <field name="unk01" type="uint32" till-version="2"/>
            <field name="unk02" type="uint32" till-version="2"/>
            <field name="unk03" type="uint32" till-version="2"/>
            <field name="unk04" type="uint32" till-version="2"/>
            <field name="unk05" type="uint32" till-version="2"/>
            <field name="unk06" type="uint32" till-version="2"/>
            <!-- version 2 may have more fields with version 3 in common -->
            <field name="uv_columns" type="uint32" default-value="0" since-version="3"/>
            <field name="uv_rows" type="uint32" default-value="0" since-version="3"/>
            <field name="unk07" type="float" default-value="0.0" since-version="3"/>
            <field name="unknown_ref_char" type="Reference" refTo="CHAR" since-version="3"/>
            <field name="intensity" type="FloatAnimationReferenceV0" since-version="3"/>
            <field name="color" type="ColorAnimationReferenceV0" since-version="3"/>
            <field name="intensity2" type="FloatAnimationReferenceV0" since-version="3"/>
            <field name="uniform_scale" type="FloatAnimationReferenceV0" since-version="3"/>
        </fields>
    </structure>

    <structure name="REF_" >
        <description>Reflection material</description>
        <versions>
            <version number="1" size="84"/>
            <version number="2" size="156"/>
            <version number="3" size="160"/> <!-- probably Storm exclusive? -->
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="unknown8f5ea924" type="uint32" default-value="0"/>
            <field name="reflectionStrength" type="FloatAnimationReferenceV0"/> <!-- default-value="1.0" -->
            <field name="displacementStrength" type="FloatAnimationReferenceV0"/> <!-- default-value="1.0" -->
            <field name="reflectionOffset" type="FloatAnimationReferenceV0" since-version="2"/> <!-- default-value="0.0" -->
            <field name="blurAngle" type="FloatAnimationReferenceV0" since-version="2"/> <!-- default-value="0.0" -->
            <field name="blurDistance" type="FloatAnimationReferenceV0" since-version="2"/> <!-- default-value="2.0" -->
            <field name="normalLayer" type="Reference" refTo="LAYR"/>
            <field name="strengthLayer" type="Reference" refTo="LAYR"/>
            <field name="blurLayer" type="Reference" refTo="LAYR" since-version="2"/>
            <field name="flags" type="uint32">
                <bits>
                    <bit mask="0x1" name="enableNormalLayer"/>
                    <bit mask="0x2" name="enableStrengthLayer"/>
                    <bit mask="0x4" name="renderInTransparentPass"/>
                    <bit mask="0x8" name="enableBlur"/>
                    <bit mask="0x16" name="enableBlurMask"/>
                </bits>
            </field>
            <field name="unknown49626d0e" type="uint32" since-version="3"/>
        </fields>
    </structure>

    <structure name="PAR_">
        <description>Particle System</description>
        <versions>
            <version number="10" size="1304"/>
            <version number="11" size="1308"/>
            <version number="12" size="1316"/>
            <version number="17" size="1460"/>
            <version number="18" size="1464"/>
            <version number="19" size="1464"/>
            <version number="21" size="1464"/>
            <version number="22" size="1484"/>
            <version number="23" size="1492"/>
            <version number="24" size="1496"/>
        </versions>
        <fields>
            <field name="bone" type="uint32"/>
            <field name="material_reference" type="uint32"/>
            <field name="additional_flags" type="uint32" default-value="4" since-version="17" >
                <bits>
                    <bit mask="0x1" name="speed_randomize"/>
                    <bit mask="0x2" name="lifespan_randomize"/>
                    <bit mask="0x4" name="mass_randomize"/>
                    <bit mask="0x8" name="trailing"/>
                </bits>
            </field>
            <field name="speed" type="FloatAnimationReferenceV0"/>
            <field name="speed_random" type="FloatAnimationReferenceV0"/>
            <field till-version="12" name="speed_randomize" type="uint32"/>
            <field name="angle_x" type="FloatAnimationReferenceV0"/>
            <field name="angle_y" type="FloatAnimationReferenceV0"/>
            <field name="spread_x" type="FloatAnimationReferenceV0"/>
            <field name="spread_y" type="FloatAnimationReferenceV0"/>
            <field name="lifespan" type="FloatAnimationReferenceV0"/>
            <field name="lifespan_random" type="FloatAnimationReferenceV0"/>
            <field till-version="12" name="lifespan_randomize" type="uint32"/>
            <field name="distance_limit" type="float" default-value="0.0"/>
            <field name="unknownf21cc980" type="uint32" expected-value="0x00000000"/>
            <field name="unknown54b2bb52" type="uint32" expected-value="0x00000000"/>
            <field name="gravity" type="float"/>
            <field name="size_anim_mid" type="float" default-value="0.5" since-version="12"/>
            <field name="color_anim_mid" type="float" default-value="0.5" since-version="12"/>
            <field name="alpha_anim_mid" type="float" default-value="0.5" since-version="12"/>
            <field name="rotation_anim_mid" type="float" default-value="0.5" since-version="12"/>
            <field name="size_hold_time" type="float" default-value="0.0" since-version="17"/>
            <field name="color_hold_time" type="float" default-value="0.0" since-version="17"/>
            <field name="alpha_hold_time" type="float" default-value="0.0" since-version="17"/>
            <field name="rotation_hold_time" type="float" default-value="0.0" since-version="17"/>
            <field name="unknown5289d695" size="80" since-version="10" till-version="11"/> <!-- 2 animated props ; similar to particleSizes1 and rotationValues1, but doesn't match in size -->
            <field name="size" type="Vector3AnimationReferenceV0" since-version="12"/>
            <field name="rotation" type="Vector3AnimationReferenceV0" since-version="12"/>
            <!-- START - probably incorrect before v12 (although size of the block matches) -->
            <field name="color_init" type="ColorAnimationReferenceV0"/>
            <field name="color_mid" type="ColorAnimationReferenceV0"/>
            <field name="color_end" type="ColorAnimationReferenceV0"/>
            <!-- END - probably incorrect before v12 (although size of the block matches) -->
            <field name="drag" type="float"/>
            <field name="mass_randomize" type="uint32" since-version="12" till-version="12"/>
            <field name="mass" type="float" default-value="0.001"/>
            <field name="mass2" type="float" default-value="1.0"/>
            <field name="unknownFloat2c" type="float" default-value="1.0" since-version="12"/>
            <field name="trailing" type="uint32" till-version="12"/>
            <field name="local_forces" type="uint16" default-value="0" since-version="12"/>
            <field name="world_forces" type="uint16" default-value="0" since-version="12"/>
            <field name="local_forces_fb" type="uint16" default-value="0" since-version="12"/>
            <field name="world_force_copy" type="uint16" default-value="0" since-version="12"/>
            <field name="unknownb379688d" size="16" since-version="10" till-version="11"/>
            <field name="unknownc851d80" type="float" default-value="1.0" since-version="24"/>
            <field name="noise_amplitude" type="float" default-value="0.0"/>
            <field name="noise_frequency" type="float" default-value="0.0"/>
            <field name="noise_cohesion" type="float" default-value="0.0"/>
            <field name="noise_edge" type="float" default-value="0.0"/>
            <field name="indexPlusHighestIndex" type="uint32" since-version="11"/>
            <field name="unknown406560aa" type="uint32" since-version="10" till-version="11"/>
            <field name="unknown406560ab" type="uint32" since-version="10" till-version="11"/>
            <field name="emit_max" type="uint32"/>
            <field name="emit_rate" type="FloatAnimationReferenceV0"/>
            <field name="emit_shape" type="uint32"/>
            <field name="emit_size" type="Vector3AnimationReferenceV0"/>
            <field name="emit_size_cutout" type="Vector3AnimationReferenceV0"/>
            <field name="emit_radius" type="FloatAnimationReferenceV0"/>
            <field name="emit_radius_cutout" type="FloatAnimationReferenceV0"/>
            <field name="emit_regions" type="Reference" refTo="U32_" since-version="17"/>
            <field name="emit_type" type="uint32"/>
            <field name="size_randomize" type="uint32"/>
            <field name="size2" type="Vector3AnimationReferenceV0"/>W
            <field name="unknown71001416" size="40" since-version="10" till-version="11"/>
            <field name="rotation_randomize" type="uint32" since-version="12"/>
            <field name="rotation2" type="Vector3AnimationReferenceV0" since-version="12"/>
            <field name="color_randomize" type="uint32"/>
            <field name="color2_init" type="ColorAnimationReferenceV0"/>
            <field name="color2_mid" type="ColorAnimationReferenceV0"/>
            <field name="color2_end" type="ColorAnimationReferenceV0"/>
            <field name="unknown7" type="uint32" default-value="0"/>
            <field name="emit_count" type="Int16AnimationReferenceV0"/>
            <field name="uv_start_init_index" type="uint8"  default-value="0"/>
            <field name="uv_start_stop_index" type="uint8"  default-value="0"/>
            <field name="uv_end_init_index" type="uint8" default-value="0"/>
            <field name="uv_end_stop_index" type="uint8" expected-value="0"/>
            <field name="uv_start_lifespan_factor" type="float"/>
            <field name="uv_columns" type="uint16"/>
            <field name="uv_rows" type="uint16"/>
            <field name="uv_column_fraction" type="float" default-value="inf" since-version="12"/>
            <field name="uv_height_fraction" type="float" default-value="inf" since-version="12"/>
            <field name="bounce" type="float" default-value="0.0"/>
            <field name="friction" type="float" default-value="1.0"/>
            <field name="unknown9" type="int32" default-value="-1"/>
            <field name="unknown10" type="uint32"/>
            <field name="unknown11" type="uint32"/>
            <field name="unknown12" type="uint32"/>
            <field name="unknown13" type="uint32"/>
            <field name="unknown14" type="uint32"/>
            <!-- particleType:
            0,2,3,4,5=Square Billbords ?
            1= Speed Scaled and Rotated Billbords influenced by lengthWidhtRatio
            6 = Rectangular Billbords (see length_width_ratio)
            7 = Quads with speed as normal
            9 = Quads that stretches between spawn point and current location
            -->
            <field name="particle_type" type="uint32"/>
            <field name="length_width_ratio" type="float" default-value="1.0"/>
            <field name="unknown15" type="uint32" default-value="0x00000000"/>
            <field name="unknown16" type="uint32" default-value="0x00000000"/>
            <field name="unknownFloat7" type="float" default-value="1.0"/>
            <field name="unknown5Addedv2" type="float"  default-value="1.0" since-version="17"/>
            <field name="unknown9ffad0f0" type="uint32" default-value="0"/>
            <field name="unknowne0bd54c8" type="FloatAnimationReferenceV0"/>
            <field name="unknowna2d44d80" type="FloatAnimationReferenceV0"/>
            <field name="unknownb6d53a88" type="uint32" default-value="0"/>
            <field name="unknownf8e2b3d0" type="FloatAnimationReferenceV0"/>
            <field name="unknown54f4ae30" type="FloatAnimationReferenceV0"/>
            <field name="unknownf8b3d529" type="uint32" default-value="0"/>
            <field name="unknown5f54fb02" type="FloatAnimationReferenceV0"/>
            <field name="unknown84d843d6" type="FloatAnimationReferenceV0"/>
            <field name="unknown6b3b9f9" type="uint32" default-value="0x00000000"/> <!-- Spectre_Heavens_COOP_UltrasonicPulse.m3 -->
            <field name="unknown9cb3dd18" type="FloatAnimationReferenceV0"/>
            <field name="unknown2e01be90" type="FloatAnimationReferenceV0"/>
            <field name="unknowneff4c5be" type="uint32" default-value="0"/>
            <field name="unknownf6193fc0" type="FloatAnimationReferenceV0"/>
            <field name="unknowna5e2260a" type="FloatAnimationReferenceV0"/>
            <field name="unknown9aa3bbb9" type="uint32" expected-value="0x00000000"/>
            <field name="unknown485f7eea" type="AnimationReferenceHeader"/>
            <field name="initOfUnknown485f7eea" type="uint32" expected-value="0x00000000"/>
            <field name="nullOfUnknown485f7eea" type="uint32" expected-value="0x00000000"/>
            <field name="endOfUnknown485f7eea" type="uint32" default-value="0xffffffff"/>
            <field name="unknown34b6f141" type="AnimationReferenceHeader"/>
            <field name="initOfUnknown34b6f141" type="uint32" expected-value="0x00000000"/>
            <field name="nullOfUnknown34b6f141" type="uint32" expected-value="0x00000000"/>
            <field name="endOfUnknown34b6f141" type="uint32" default-value="0xffffffff"/>
            <field name="unknownb69653a4" type="uint32" default-value="0"/>
            <field name="unknown89cdf966" type="FloatAnimationReferenceV0"/>
            <field name="unknown4eefdfc1" type="FloatAnimationReferenceV0"/>
            <field name="unknownb47e5f82" type="uint32" default-value="0x00000000"/>
            <field name="unknownab37a1d5" type="UInt32AnimationReferenceV0"/> <!-- Elsecaro_Colonist_Hut_Death_01.m3 Elsecaro_Colonist_Hut_Death_02.m3 -->
            <field name="unknownbef7f4d3" type="UInt32AnimationReferenceV0"/> <!-- Elsecaro_Colonist_Hut_Death_03.m3 -->
            <field name="unknown8262f69c" type="uint32" default-value="0x00000000"/>
            <field name="unknownb2dbf2f3" type="UInt32AnimationReferenceV0"/> <!-- Elsecaro_Colonist_Hut_Death_00.m3 -->
            <field name="unknown3c76d64c" type="UInt32AnimationReferenceV0"/> <!-- Elsecaro_Colonist_Hut_Death_00.m3 -->
            <field name="unknownbc151e17" type="FloatAnimationReferenceV0"/>
            <field name="unknown8f507b52" type="UInt32AnimationReferenceV0" since-version="22"/>
            <field name="flags" type="uint32" default-value="0" >
                <bits>
                    <bit mask="0x1" name="sort"/>
                    <bit mask="0x2" name="collide_terrain"/>
                    <bit mask="0x4" name="collide_objects"/>
                    <bit mask="0x8" name="spawn_on_bounce"/>
                    <bit mask="0x10" name="emit_shape_cutout"/>
                    <bit mask="0x20" name="inherit_emission_params"/>
                    <bit mask="0x40" name="inherit_parent_velocity"/>
                    <bit mask="0x80" name="sort_zheight"/>
                    <bit mask="0x100" name="reverse_iteration"/>
                    <bit mask="0x200" name="old_smooth_rotation"/>
                    <bit mask="0x400" name="old_smooth_rotation_bezier"/>
                    <bit mask="0x800" name="old_smooth_size"/>
                    <bit mask="0x1000" name="old_smooth_size_bezier"/>
                    <bit mask="0x2000" name="old_smooth_color"/>
                    <bit mask="0x4000" name="old_smooth_color_bezier"/>
                    <bit mask="0x8000" name="lit_parts"/>
                    <bit mask="0x10000" name="random_flipbook_start"/>
                    <bit mask="0x20000" name="multiply_by_gravity"/>
                    <bit mask="0x40000" name="clamp_trailing_particles"/>
                    <bit mask="0x80000" name="spawn_trailing_particles"/>
                    <bit mask="0x100000" name="fix_length_trailing_particles"/>
                    <bit mask="0x200000" name="vertex_alpha"/>
                    <bit mask="0x400000" name="model_parts"/>
                    <bit mask="0x800000" name="swap_yz_on_model_parts"/>
                    <bit mask="0x1000000" name="scale_time_parent"/>
                    <bit mask="0x2000000" name="local_time"/>
                    <bit mask="0x4000000" name="simulate_init"/>
                    <bit mask="0x8000000" name="copy"/>
                </bits>
            </field>
            <field name="rotation_flags" type="uint32" default-value="4" since-version="18" >
                <bits>
                    <bit mask="0x2" name="relative"/>
                    <bit mask="0x4" name="always_set"/>
                </bits>
            </field>
            <!-- smoothingTypes:
                0: Linear
                1: Smooth
                2: Bezier
                3: Linear Hold
                4: Bezier Hold
            -->
            <field name="color_smoothing" type="uint32" default-value="0" since-version="17"/>
            <field name="size_smoothing" type="uint32" default-value="0" since-version="17"/>
            <field name="rotation_smoothing" type="uint32"  default-value="0" since-version="17"/>
            <field name="unknown22856fde" type="FloatAnimationReferenceV0" since-version="17"/>
            <field name="unknownb35ad6e1" type="Vector2AnimationReferenceV0" since-version="17"/>
            <field name="unknown686e5943" type="Vector3AnimationReferenceV0" since-version="17"/>
            <field name="unknown18a90564" type="Vector2AnimationReferenceV0" since-version="17"/> <!-- with init=(1.0, 1.0) and null=(1.0, 1.0)-->
            <field name="spawnPoints" type="Reference" refTo="SVC3"/>
            <field name="wind_multiplier" type="float" default-value="0.0"/>
            <field name="lod_reduce" type="uint32" default-value="2"/>
            <field name="lod_cut" type="uint32" default-value="1"/>
            <field name="unknown21ca0cea" type="AnimationReferenceHeader"/>
            <field name="initOfUnknown21ca0cea" type="uint32" default-value="0x00000000"/> <!-- Void_Narud_Beam.m3 -->
            <field name="nullOfUnknown21ca0cea" type="uint32" expected-value="0x00000000"/>
            <field name="endOfUnknown21ca0cea" type="uint32" default-value="0xffffffff"/>
            <field name="unknown1e97145f" type="FloatAnimationReferenceV0"/> <!-- default 1.0 -->
            <field name="trailing_particle" type="int32" default-value="-1"/>
            <field name="trailing_particle_chance" type="float" default-value="0.0"/>
            <field name="trailing_particle_rate" type="FloatAnimationReferenceV0"/>
            <field name="unknownfdab7ff3" type="uint32" default-value="0xffffffff"/>
            <field name="unknown7d4a9e6b" type="uint32" expected-value="0x00000000"/>
            <field name="usedModel" type="Reference" refTo="SCHR"/>
            <field name="copyIndices" type="Reference" refTo="U32_"/>
            <field name="unknown9a7afdf2" type="uint32" since-version="23"/>
            <field name="unknown87d57a7a" type="uint32" since-version="23"/>
        </fields>
    </structure>

    <structure name="PARC">
        <description>
            Particle System Copy/Instance
        </description>
        <versions>
            <version number="0" size="40"/>
        </versions>
        <fields>
            <field name="emissionRate" type="FloatAnimationReferenceV0"/>
            <field name="partEmit" type="Int16AnimationReferenceV0"/>
            <field name="bone" type="uint32"/>
        </fields>
    </structure>

    <structure name="PROJ">
        <description>Projections</description>
        <versions>
            <version number="4" size="388"/>
            <version number="5" size="388"/>
        </versions>
        <fields>
            <field name="projectionType" type="uint32"/>
            <field name="bone" type="uint32"/>
            <field name="materialReferenceIndex" type="uint32"/>
            <field name="unknown58ae2b94" type="Vector3AnimationReferenceV0"/>
            <field name="unknownf1f7110b" type="FloatAnimationReferenceV0"/>
            <field name="unknown2035f500" type="FloatAnimationReferenceV0"/>
            <field name="unknown80d8189b" type="FloatAnimationReferenceV0"/>
            <field name="fieldOfView" type="FloatAnimationReferenceV0"/>
            <field name="aspectRatio" type="FloatAnimationReferenceV0"/>
            <field name="near" type="FloatAnimationReferenceV0"/>
            <field name="far" type="FloatAnimationReferenceV0"/>
            <field name="boxBottomZOffset" type="FloatAnimationReferenceV0"/>
            <field name="boxTopZOffset" type="FloatAnimationReferenceV0"/>
            <field name="boxLeftXOffset" type="FloatAnimationReferenceV0"/>
            <field name="boxRightXOffset" type="FloatAnimationReferenceV0"/>
            <field name="boxFrontYOffset" type="FloatAnimationReferenceV0"/>
            <field name="boxBackYOffset" type="FloatAnimationReferenceV0"/>
            <field name="unknownca4e8e36" default-value="0" type="uint32"/>
            <field name="alphaOverTimeStart" type="float"/>
            <field name="alphaOverTimeMid" type="float"/>
            <field name="alphaOverTimeEnd" type="float"/>
            <field name="splatLifeTimeAttack" type="float"/>
            <field name="splatLifeTimeAttackTo" type="float"/>
            <field name="splatLifeTimeHold" type="float"/>
            <field name="splatLifeTimeHoldTo" type="float"/>
            <field name="splatLifeTimeDecay" type="float"/>
            <field name="splatLifeTimeDecayTo" type="float"/>
            <field name="attenuationPlaneDistance" type="float"/>
            <field name="active" type="UInt32AnimationReferenceV0"/>
            <field name="splatLayer" type="uint32" since-version="4"/>
            <field name="lodReduce" type="uint32" since-version="4"/>
            <field name="lodCut" type="uint32" since-version="4"/>
            <field name="flags" type="uint32" default-value="0" since-version="4">
                <bits>
                    <bit mask="0x1" name="staticPosition"/>
                    <bit mask="0x2" name="unknownFlag0x2"/>
                    <bit mask="0x4" name="unknownFlag0x4"/>
                    <bit mask="0x8" name="unknownFlag0x8"/>
                </bits>
            </field>
            <!-- <field name="unknowna0283820" size="18" till-version="4"/> -->
        </fields>
    </structure>

    <structure name="PHYJ">
        <description>Physical Joints</description>
        <versions>
            <version number="0" size="180"/>
        </versions>
        <fields>
            <field name="jointType" type="uint32"/>
            <field name="bone1" type="uint32"/>
            <field name="bone2" type="uint32"/>
            <field name="matrix1" type="Matrix44"/>
            <field name="matrix2" type="Matrix44"/>
            <field name="limit" type="uint32"/>
            <field name="limitMin" type="float"/>
            <field name="limitMax" type="float"/>
            <field name="coneAngle" type="float"/>
            <field name="friction" type="uint32"/>
            <field name="frictionAmount" type="float" default-value="0.2"/>
            <field name="dampingRatio" type="float" default-value="0.7"/>
            <field name="angularFrequency" type="float" default-value="5"/>
            <field name="breakThreshold" type="float" default-value="1"/> <!-- docs indicate this is unused in SC2 -->
            <field name="shapeCollisionValue" type="int32"/> <!-- some magic value related to how shapes collide with each other ; it might be some kind of bitmask -->
        </fields>
    </structure>

    <structure name="PHCC">
        <description>Cloth Constraint</description>
        <versions>
            <version number="0" size="76"/>
        </versions>
        <fields>
            <field name="matrix" type="Matrix44"/>
            <field name="size0" type="float"/>
            <field name="size1" type="float"/>
            <field name="bone" type="uint32"/>
        </fields>
    </structure>

    <structure name="PHAC">
        <description>Cloth related</description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="simulation_region_index" type="uint32"/>
            <field name="influenced_region_index" type="uint32"/>
            <field name="simulation_vertices" type="Reference" refTo="U64_"/> <!-- i suspect this is intended to be read as 4 int16 values, possibly linking together vertices which influence one another -->
            <field name="simulation_weights" type="Reference" refTo="U32_"/> <!-- assigns influence of simulation_region vertices on influenced_region vertices with 4 single byte values, one for each vertice index in simulation_vertices -->
        </fields>
    </structure>

    <structure name="PHCL">
        <description>Cloth Behavior</description>
        <versions>
            <version number="2" size="136"/>
            <version number="4" size="192"/>
        </versions>
        <fields>
            <field name="influenced_region_index" type="uint32"/>
            <field name="unknown0" type="uint32"/>
            <field name="skin_bones" type="Reference" refTo="U16_"/> <!-- list of bone indices referenced by vertex_bones or by PHCC bone indices -->
            <field name="vertex_simulated" type="Reference" refTo="U8__"/> <!-- 0x0 for static vertex, 0x1 for simulated vertex -->
            <field name="vertex_bones" type="Reference" refTo="U32_"/> <!-- 2 bytes each used to reference up to 4 bone indices -->
            <field name="vertex_weights" type="Reference" refTo="U32_"/> <!-- 2 bytes each used to define the weight given to the bones referenced by vertex_bones -->
            <field name="cloth_constrainsts" type="Reference" refTo="PHCC"/>
            <field name="influence_map" type="Reference" refTo="PHAC"/>
            <field name="density" type="float"/>
            <field name="tracking" type="float"/>
            <field name="stiffness_stretching" type="float"/>
            <field name="stiffness_horizontal" type="float"/>
            <field name="stifness_blending" type="float"/>
            <field name="damping" type="float"/>
            <field name="friction" type="float"/>
            <field name="gravity" type="float"/>
            <field name="explosion_scale" type="float"/>
            <field name="wind_scale" type="float"/>
            <field name="shear_stiffness" type="float"/>
            <field name="drag_factor" type="float"/>
            <field name="lift_factor" type="float"/>
            <field name="sphere_attachment_stiffness" type="float"/>
            <field name="unknown1" type="uint32" since-version="4"/>
            <field name="unknown2" type="uint32" since-version="4"/>
            <field name="unknown3" type="uint32" since-version="4"/> <!-- weird number, could actually be single byte values -->
            <field name="unknown4" type="uint32" since-version="4" default-value="1"/>
            <field name="unknown5" type="uint32" since-version="4" default-value="1"/>
            <field name="unknown6" type="int32" since-version="4" default-value="-1"/>
            <field name="use_skin_collision" type="uint32" since-version="4"/>
            <field name="skin_offset" type="float" since-version="4"/>
            <field name="skin_exponent" type="float" since-version="4"/>
            <field name="skin_stiffness" type="float" since-version="4"/>
            <field name="unknown7" type="uint32" since-version="4"/>
            <field name="local_wind" type="VEC3V0" since-version="4"/>
        </fields>
    </structure>

    <structure  name="FOR_">
        <description>
            Force that effects particles of certain particle systems
        </description>
        <versions>
            <version number="1" size="104"/>
            <version number="2" size="104"/>
        </versions>
        <fields>
            <field name="type" type="uint32"/>
            <field name="shape" type="uint32" default-value="0"/>
            <field name="unknown1" type="uint32" default-value="0"/>
            <field name="bone" type="uint32"/>
            <field name="flags" type="uint32" default-value="0"  >
                <bits>
                    <bit mask="0x1" name="useFalloff"/>
                    <bit mask="0x2" name="useHeightGradient"/>
                    <bit mask="0x4" name="unbounded"/>
                </bits>
            </field>
            <field name="channels" type="uint32"/>
            <field name="strength" type="FloatAnimationReferenceV0"/>
            <field name="width" type="FloatAnimationReferenceV0"/>
            <field name="height" type="FloatAnimationReferenceV0"/>
            <field name="length" type="FloatAnimationReferenceV0"/>
        </fields>
    </structure>

    <structure name="DMSE">
        <description>Unknown structure</description>
        <versions>
            <version number="0" size="4"/>
        </versions>
        <fields>
            <field name="unknown" type="int8"/>
            <field name="i0" type="uint8"/>
            <field name="i1" type="uint8"/>
            <field name="i2" type="uint8"/>
        </fields>
    </structure>

    <structure name="PHSH">
        <description>Physics shape data</description>
        <versions>
            <version number="1" size="132"/>
            <version number="2" size="292"/>
            <version number="3" size="300"/>
        </versions>
        <fields>
            <field name="matrix" type="Matrix44"/>
            <field name="unknownAt64" type="uint32" default-value="0x3ca14285" till-version="1"/>
            <!-- Shape types:
                0 = box
                1 = sphere
                2 = capsule
                3 = cylinder
                4 = convex hull
                5 = mesh
                6+ = invalid
            -->
            <field name="shape" type="uint8"/>
            <!-- Is not always 0 (in Version 1 and 3). It's propably the unintialized part of shape: -->
            <field name="unknown1c286108" type="uint8" default-value="0"/>
            <field name="unknown4ddf14b3" type="uint16" default-value="0"/>
            <field name="vertices" type="Reference" refTo="VEC3" till-version="1"/>
            <field name="unknownAt84" type="Reference" refTo="U8__" till-version="1"/>
            <field name="faces" type="Reference" refTo="U16_" till-version="1"/>
            <field name="planeEquations" type="Reference" refTo="VEC4" till-version="1"/> <!-- Bounding planes used for convex hull shapes? (may include extra radius value?) -->

            <field name="unknown66ce545e" size="20" expected-value="0x0000000000000000000000000000000000000000" since-version="2"/>
            <field name="unknown66ce545e_b" type="uint32" default-value="0" since-version="2"/>
            <field name="size0" type="float" default-value="1.0"/> <!-- box x-size / capsule radius (/ cylinder radius / sphere radius?) -->
            <field name="size1" type="float" default-value="1.0"/> <!-- box y-size / capsule length (/ cylinder length?) -->
            <field name="size2" type="float" default-value="1.0"/> <!-- box z-size -->
            <field name="unknown71459989" type="Reference" refTo="VEC3" since-version="2"/>
            <field name="unknown46c85f1e" type="Reference" refTo="VEC4" since-version="2"/>
            <field name="unknown4f8176e7" type="Reference" refTo="DMSE" since-version="2"/>
            <field name="unknown124fad04" type="Reference" refTo="U8__" since-version="2"/>
            <field name="unknownbda8f787" size="12" default-value="0x000000000000000000000000" since-version="2"/>
            <!-- unknown2e655ca4 can have the value 0x80000000 too -->
            <field name="unknown2e655ca4" size="4" since-version="2"/>
            <!-- unknown7df99f73 is not a float and has strange content -->
            <field name="unknown7df99f73" size="4" since-version="2"/>
            <field name="unknown5c04305e" size="4" default-value="0x00000000" since-version="2"/>
            <!-- unknown8d41b3f8 is not a float and has strange content -->
            <field name="unknown8d41b3f8" size="4" since-version="2"/>
            <!-- unknown56fece2 is not a float and has strange content -->
            <field name="unknown56fece2" size="4" since-version="2"/>
            <field name="unknown6f23bce8" type="Reference" refTo="DMMN" since-version="2"/>
            <field name="unknown9836ec85" type="Reference" refTo="VEC4" since-version="2"/>
            <field name="unknownac0ac492" size="12" default-value="0x000000000000000000000000" since-version="2"/>
            <field name="unknown90e72e22" type="Reference" refTo="MT32" since-version="2"/>
            <field name="unknownd93ef965" size="12" default-value="0x000000000000000000000000" since-version="2"/>
            <field name="unknown09823b6e" size="12" default-value="0x000000000000000000000000" since-version="2"/>
            <field name="unknown2f8ad6d6" size="12" default-value="0x000000000000000000000000" since-version="2"/>
            <field name="unknown9d115fa7" size="4" since-version="2"/>
            <!-- unknown9aea956e is not a float and has strange content -->
            <field name="unknown9aea956e" size="4" since-version="2"/>
            <field name="unknown17c6f44e" size="4" expected-value="0x00000000" since-version="2"/>
            <field name="unknowne444b392" size="4" since-version="2"/>
            <field name="unknown32885641" size="4" default-value="0x00000000" since-version="2"/>
            <!-- unknown721b9a99 is not a float and has strange content-->
            <field name="unknown721b9a99" size="4" since-version="2"/>

            <!-- unknowna495c84b is not a float and has strange content-->
            <field name="unknowna495c84b" size="4" since-version="3"/>
            <!-- unknown12e15bc4 is not a float and has strange content-->
            <field name="unknown12e15bc4" size="4" since-version="3"/>
        </fields>
    </structure>

    <structure name="PHRB">
        <description>Rigid Body</description>
        <versions>
            <version number="2" size="104"/>
            <version number="3" size="56"/>
            <version number="4" size="80"/>
        </versions>
        <fields>
            <!-- Version 2 specific part: (please try to minimize it if possible) -->
            <field till-version="2" name="unknownAt0" type="float" default-value="5.0"/>
            <field till-version="2" name="unknownAt4" type="float" default-value="4.0"/>
            <field till-version="2" name="unknownAt8" type="float" default-value="0.8"/> <!-- 0.8 in all models? -->
            <field till-version="2" name="unknownAt12" type="float" default-value="0.0"/>
            <field till-version="2" name="unknownAt16" type="float" default-value="0.0"/>
            <field till-version="2" name="unknownAt20" type="float" default-value="0.0"/>
            <field till-version="2" name="unknownAt24" type="float" default-value="0.0"/>
            <field till-version="2" name="unknownAt28" type="float" default-value="0.0"/>
            <field till-version="2" name="unknownAt32" type="float" default-value="0.0"/>
            <field till-version="2" name="unknownAt36" type="float" default-value="0.0"/>
            <field till-version="2" name="unknownAt40" type="float" default-value="0.0"/>
            <field till-version="2" name="unknownAt44" type="float" default-value="0.0"/>
            <field till-version="2" name="unknownAt48" type="float" default-value="0.0"/>
            <field till-version="2" name="unknownAt52" type="float" default-value="0.0"/>
            <field till-version="2" name="unknownAt56" type="float" default-value="0.0"/>
            <field till-version="2" name="bone" type="uint16"/>
            <field till-version="2" name="boneUnused" type="uint16" default-value="0x0"/> <!-- Matches bone, but doesn't seem to be used? -->
            <field till-version="2" name="unknownAt64" size="16" default-value="0x00000000000000000000000000000000"/>

            <field name="simulationType" type="uint16" default-value="1" since-version="3"/>
            <field name="bone" type="uint16" since-version="3"/>
            <field name="physicalMaterial" type="uint32" default-value="0" since-version="3"/>

            <field name="density" type="float" default-value="2400.0" since-version="3"/>
            <field name="friction" type="float" default-value="0.7" since-version="3"/>
            <field name="restitution" type="float" default-value="0.1"  since-version="3"/>
            <field name="linearDamp" type="float" default-value="0.001"  since-version="3"/>
            <field name="angularDamp" type="float" default-value="0.001" since-version="3"/>
            <field name="gravityScale" type="float" default-value="1.0"  since-version="3"/>

            <field name="unknown8de065e8" type="UInt32AnimationReferenceV0" since-version="4"/>
            <field name="unknown57796a4d" type="float" default-value="1.0" since-version="4"/>

            <field name="physicsShapes" type="Reference" refTo="PHSH"/>
            <field name="flags" type="uint32" default-value="0x1">
                <bits>
                    <bit mask="0x1" name="collidable"/>
                    <bit mask="0x2" name="walkable"/>
                    <bit mask="0x4" name="stackable"/>
                    <bit mask="0x8" name="simulateOnCollision"/>
                    <bit mask="0x10" name="ignoreLocalBodies"/>
                    <bit mask="0x20" name="alwaysExists"/>
                    <bit mask="0x80" name="doNotSimulate"/>
                </bits>
            </field>
            <field name="localForces" type="uint16" default-value="0x0">
                <bits>
                    <bit mask="0x1" name="1"/>
                    <bit mask="0x2" name="2"/>
                    <bit mask="0x4" name="3"/>
                    <bit mask="0x8" name="4"/>
                    <bit mask="0x10" name="5"/>
                    <bit mask="0x20" name="6"/>
                    <bit mask="0x40" name="7"/>
                    <bit mask="0x80" name="8"/>
                    <bit mask="0x100" name="9"/>
                    <bit mask="0x200" name="10"/>
                    <bit mask="0x400" name="11"/>
                    <bit mask="0x800" name="12"/>
                    <bit mask="0x1000" name="13"/>
                    <bit mask="0x2000" name="14"/>
                    <bit mask="0x4000" name="15"/>
                    <bit mask="0x8000" name="16"/>
                </bits>
            </field>
            <field name="worldForces" type="uint16" default-value="0x0">
                <bits>
                    <bit mask="0x1" name="wind"/>
                    <bit mask="0x2" name="explosion"/>
                    <bit mask="0x4" name="energy"/>
                    <bit mask="0x8" name="blood"/>
                    <bit mask="0x10" name="magnetic"/>
                    <bit mask="0x20" name="grass"/>
                    <bit mask="0x40" name="brush"/>
                    <bit mask="0x80" name="trees"/>
                </bits>
            </field>
            <field name="priority" type="uint32" default-value="0"/>
        </fields>
    </structure>

    <structure name="SSGS" >
        <description>
            Describes a super simple geometic shape

            0 = Cuboid (width=size0, length=size1, height=size2)
            1 = Sphere (radius=size0)
            2 = Cylinder? (radius=size0, height=size1))
        </description>
        <versions>
            <version number="1" size="108"/>
        </versions>
        <fields>
            <field name="shape" type="uint32"/>
            <field name="bone" type="int16"/> <!-- can be -1 -->
            <field name="unknownAt6" type="uint16" expected-value="0"/>
            <field name="matrix" type="Matrix44"/>
            <field name="unknownRefSSGSBeta01" type="Reference"/>
            <field name="unknownRefSSGSBeta02" type="Reference"/>
            <field name="size0" type="float"/>
            <field name="size1" type="float"/>
            <field name="size2" type="float"/>
        </fields>
    </structure>

    <structure name="ATVL">
        <description>
            Attachment Volume

            The type attribute specifies the meaning of the size values:

            0 = Cuboid (width=size0, length=size1, height=size2)
            1 = Sphere (radius=size0)
            2 = Cylinder (radius=size0, height=size1))
        </description>
        <versions>
            <version number="0" size="116"/>
        </versions>
        <fields>
            <field name="bone0" type="uint32"/>
            <field name="bone1" type="uint32"/>
            <field name="shape" type="uint32" default-value="1"/>
            <field name="bone2" type="uint32"/>
            <field name="matrix" type="Matrix44"/>
            <field name="unknown0" type="Reference" refTo="VEC3"/>
            <field name="unknown1" type="Reference" refTo="U16_"/>
            <field name="size0" type="float"/>
            <field name="size1" type="float" default-value="0.0"/>
            <field name="size2" type="float" default-value="0.0"/>
        </fields>
    </structure>

    <structure name="BBSC">
        <description>
            Billbord Behavior
        </description>
        <versions>
            <version number="0" size="48"/>
        </versions>
        <fields>
            <field name="unknownac35793a" type="Reference"/>
            <field name="bone" type="uint16"/>
            <field name="billboardType" type="uint8" default-value="6"/>
            <field name="cameraLookAt" type="uint8" default-value="1"/>
            <field name="unknown76974b30" type="float" default-value="0.0"/>
            <field name="unknownb7903f37" type="float" default-value="0.0"/>
            <field name="unknown15901615" type="float" default-value="0.0"/>
            <field name="unknown8db56887" type="float" default-value="1.0"/>
            <field name="unknown8a4fe2ab" type="float" default-value="0.0"/>
            <field name="unknown51d106ab" type="float" default-value="0.0"/>
            <field name="unknownb410610b" type="float" default-value="0.0"/>
            <field name="unknown6a9fde72" type="float" default-value="1.0"/>
        </fields>
    </structure>

    <!-- used only by Infestor from SC2 beta -->
    <structure name="TMD_">
        <description>
        </description>
        <versions>
            <version number="1" size="72"/>
        </versions>
        <fields>
            <field name="unknown68763a86" type="Reference" refTo="VEC3"/>
            <field name="unknownd3f6c7b8" type="float"/>
            <field name="unknown74229b33" type="float"/>
            <field name="unknownd4f91286" type="FloatAnimationReferenceV0"/>
            <field name="unknown77f047c2" type="FloatAnimationReferenceV0"/>
            <field name="unknownbc1e64c1" type="uint32" expected-value="1"/>
            <field name="unknown6cd3476c" type="uint32" expected-value="0"/>
            <field name="unknownccd5a5af" type="uint32" expected-value="0"/>
        </fields>
    </structure>

    <structure name="SRIB">
        <description>
            Spline Ribbon: An additional end point of this ribbon.
        </description>
        <versions>
            <version number="0" size="272"/>
        </versions>
        <fields>
            <field name="unknown1" type="uint32" default-value="0"/>
            <field name="unknown2" size="16" default-value="0x00000000000000000000000000000000"/> <!-- PsiStorm.m3 -->
            <field name="tan1" type="float"/>
            <field name="length" type="FloatAnimationReferenceV0"/>
            <field name="unknowneee1a711" type="uint32"/>
            <field name="bone" type="uint32"/>
            <field name="unknown3" type="FloatAnimationReferenceV0"/>
            <field name="unknown4" type="FloatAnimationReferenceV0"/>
            <field name="yawVariationType" type="uint32"/>
            <field name="yawVariationAmplitude" type="FloatAnimationReferenceV0"/>
            <field name="yawVariationFrequency" type="FloatAnimationReferenceV0"/>
            <field name="pitchVariationType" type="uint32"/>
            <field name="pitchVariationAmplitude" type="FloatAnimationReferenceV0"/>
            <field name="pitchVariationFrequency" type="FloatAnimationReferenceV0"/>
            <field name="speedVariationType" type="uint32"/>
            <field name="speedVariationAmplitude" type="FloatAnimationReferenceV0"/>
            <field name="speedVariationFrequency" type="FloatAnimationReferenceV0"/>
            <field name="yaw" type="FloatAnimationReferenceV0"/>
            <field name="pitch" type="FloatAnimationReferenceV0"/>
            <field name="tan2" type="float"/>
            <field name="tan3" type="float"/>
        </fields>
    </structure>

    <structure name="RIB_">
        <description>
            Ribbon effect.
            0 - PlanarBillboarded
            1 - Planar
            2 - Cylinder
            3 - Star Shaped
        </description>
        <versions>
            <version number="4" size="744"/>
            <version number="5" size="748"/>
            <version number="6" size="748"/>
            <version number="8" size="756"/>
            <version number="9" size="760"/>
        </versions>
        <fields>
            <field name="bone" type="uint16"/>
            <field name="unknown13c070e5" type="uint16" expected-value="0"/> <!-- unused? or it might belong to bone -->
            <field name="materialReferenceIndex" type="uint32"/>
            <field name="additionalFlags" type="uint32" default-value="0x8" since-version="8">
                <bits>
                    <bit mask="0x8" name="worldSpace"/>
                </bits>
            </field>
            <field name="speed" type="FloatAnimationReferenceV0 "/>
            <field name="unknown75e0b576" type="FloatAnimationReferenceV0"/>
            <field till-version="6" name="unknownd30655aa" type="uint32" expected-value="0"/> <!-- haven't seen a Blizzard model where this wouldn't be 0 -->

            <!-- till v6: pitch then yaw -->
            <field name="pitch" type="FloatAnimationReferenceV0" till-version="6"/>
            <field name="yaw" type="FloatAnimationReferenceV0" till-version="6"/>

            <!-- since v8: yaw then pitch -->
            <field name="yaw" type="FloatAnimationReferenceV0" since-version="8"/>
            <field name="pitch" type="FloatAnimationReferenceV0" since-version="8"/>

            <field name="unknownee00ae0a" type="FloatAnimationReferenceV0"/>
            <field name="unknown1686c0b7" type="FloatAnimationReferenceV0"/>
            <field name="lifespan" type="FloatAnimationReferenceV0"/>
            <field name="unknown9eba8df8" type="FloatAnimationReferenceV0"/>
            <field name="unknown26271cbe" type="uint32" expected-value="0"/>
            <field name="unknownda0542fa" type="uint32" expected-value="0"/>
            <field name="unknown76f48851" type="uint32" expected-value="0"/>
            <field name="unknown874bdc23" type="uint32" expected-value="0" till-version="6"/>
            <field name="gravity" type="float" default-value="0"/>
            <field name="sizeMiddleTime" type="float" default-value="1.0"/>
            <field name="colorMiddleTime" type="float" default-value="1.0"/>
            <field name="alphaMiddleTime" type="float" default-value="1.0"/>
            <field name="rotationMiddleTime" type="float" default-value="1.0"/>
            <field name="sizeMiddleHoldTime" type="float" default-value="0.0" since-version="8"/>
            <field name="colorMiddleHoldTime" type="float" default-value="0.0" since-version="8"/>
            <field name="alphaMiddleHoldTime" type="float" default-value="0.0" since-version="8"/>
            <field name="rotationMiddleHoldTime" type="float" default-value="0.0" since-version="8"/>
            <field name="size" type="Vector3AnimationReferenceV0"/>
            <field name="rotation" type="Vector3AnimationReferenceV0"/>
            <field name="baseColoring" type="ColorAnimationReferenceV0"/>
            <field name="centerColoring" type="ColorAnimationReferenceV0"/>
            <field name="tipColoring" type="ColorAnimationReferenceV0"/>
            <field name="drag" type="float" default-value="0.0"/>

            <field name="mass" type="float" default-value="1.0" since-version="8"/>
            <field name="massProbablyUnused" type="float" default-value="0.0" since-version="8"/>

            <field name="massProbablyUnused" type="float" default-value="0.0" till-version="6"/>
            <field name="mass" type="float" default-value="1.0" till-version="6"/>
            <field name="unknownc7004d01" type="float" default-value="0.0"/> <!-- almost always 0.0 on Blizzard models, few occurences where it's 10.0 ; could be some multiplier related to mass?? -->

            <field name="unknown20683e1b" type="uint32" default-value="0" till-version="6"/> <!-- always 0 on Blizzard models expect 3 cases (LarvaPortrait.m3 OverlordPortrait.m3 HydraliskPortrait.m3) where it's 0x41200000 -->
            <field name="worldSpace" type="uint32" default-value="0" till-version="6"/> <!-- 0x0 or 0x1 (off/on) -->
            <field name="localForceChannels" type="uint16" default-value="0"/>
            <field name="worldForceChannels" type="uint16" default-value="0"/>
            <field name="localForceChannelsCopy" type="uint16" default-value="0"/>
            <field name="worldForceChannelsCopy" type="uint16" default-value="0"/>

            <field name="unknownfb168d8c" type="uint32" expected-value="0" since-version="9"/> <!-- haven't seen a Blizzard model where this wouldn't be 0 -->
            <field name="surfaceNoiseAmplitude" type="float"/>
            <field name="surfaceNoiseNumberOfWaves" type="float"/>
            <field name="surfaceNoiseFrequency" type="float"/>
            <field name="surfaceNoiseScale" type="float"/>
            <field name="indexPlusHighestIndex" type="uint32" default-value="1" since-version="5"/> <!-- 1-255 value ; never seen to be 0 on Blizzard models ; shared with PAR_ ; probably determines the rendering priority of some sort ? -->
            <field name="ribbonType" type="uint32"/>
            <field name="cullType" type="uint32" default-value="1"/>
            <field name="ribbonDivisions" type="float"/>
            <field name="ribbonSides" type="uint32"/>
            <field name="starRatio" type="float" default-value="0.5"/>
            <field name="length" type="FloatAnimationReferenceV0"/>
            <field name="unknown3fbae7d6" type="int32" expected-value="0" till-version="6"/> <!-- haven't seen a Blizzard model where this wouldn't be 0 -->
            <field name="endPoints" type="Reference" refTo="SRIB"/>
            <field name="active" type="UInt32AnimationReferenceV0"/>
            <field name="flags" type="uint32" default-value="0" >
                <bits>
                    <bit mask="0x2" name="collideWithTerrain"/>
                    <bit mask="0x4" name="collideWithObjects"/>
                    <bit mask="0x8" name="edgeFalloff"/>
                    <bit mask="0x10" name="inheritParentVelocity"/>
                    <bit mask="0x20" name="smoothSize"/>
                    <bit mask="0x40" name="bezierSmoothSize"/>
                    <bit mask="0x80" name="useVertexAlpha"/>
                    <bit mask="0x100" name="scaleTimeByParent"/>
                    <bit mask="0x200" name="forceCPUSimulation"/>
                    <bit mask="0x400" name="useLocaleTime"/>
                    <bit mask="0x800" name="simulateOnInitialization"/>
                    <bit mask="0x1000" name="useLengthAndTime"/>
                    <bit mask="0x2000" name="accurateGPUTangents"/>
                </bits>
            </field>
            <field name="size_smoothing" type="uint32" default-value="0"/>
            <field name="color_smoothing" type="uint32" default-value="0"/>
            <field name="friction" type="float" default-value="1.0" since-version="8"/>
            <field name="bounce" type="float" default-value="0.0" since-version="8"/>
            <field name="lod_reduce" type="uint32" default-value="2"/>
            <field name="lod_cut" type="uint32" default-value="0"/>

            <!-- till v6: pitch then yaw -->
            <field name="pitchVariationType" type="uint32" till-version="6"/>
            <field name="pitchVariationAmplitude" type="FloatAnimationReferenceV0" till-version="6"/>
            <field name="pitchVariationFrequency" type="FloatAnimationReferenceV0" till-version="6"/>
            <field name="yawVariationType" type="uint32" till-version="6"/>
            <field name="yawVariationAmplitude" type="FloatAnimationReferenceV0" till-version="6"/>
            <field name="yawVariationFrequency" type="FloatAnimationReferenceV0" till-version="6"/>

            <!-- since v8: yaw then pitch -->
            <field name="yawVariationType" type="uint32" since-version="8"/>
            <field name="yawVariationAmplitude" type="FloatAnimationReferenceV0" since-version="8"/>
            <field name="yawVariationFrequency" type="FloatAnimationReferenceV0" since-version="8"/>
            <field name="pitchVariationType" type="uint32" since-version="8"/>
            <field name="pitchVariationAmplitude" type="FloatAnimationReferenceV0" since-version="8"/>
            <field name="pitchVariationFrequency" type="FloatAnimationReferenceV0" since-version="8"/>

            <field name="speedVariationType" type="uint32"/>
            <field name="speedVariationAmplitude" type="FloatAnimationReferenceV0"/>
            <field name="speedVariationFrequency" type="FloatAnimationReferenceV0"/>
            <field name="sizeVariationType" type="uint32"/>
            <field name="sizeVariationAmplitude" type="FloatAnimationReferenceV0"/>
            <field name="sizeVariationFrequency" type="FloatAnimationReferenceV0"/>
            <field name="alphaVariationType" type="uint32"/>
            <field name="alphaVariationAmplitude" type="FloatAnimationReferenceV0"/>
            <field name="alphaVariationFrequency" type="FloatAnimationReferenceV0"/>
            <field name="parent_velocity" type="FloatAnimationReferenceV0"/>
            <field name="phase_shift" type="FloatAnimationReferenceV0"/>
        </fields>
    </structure>

    <structure name="IKJT" >
        <description>
            IK Joint Behavior
        </description>
        <versions>
            <version number="0" size="32"/>
        </versions>
        <fields>
            <field name="unknownIKJTRef01" type="Reference"/>
            <field name="bone1" type="uint16"/>
            <field name="bone2" type="uint16"/>
            <field name="maxSearchUp" type="float"/>
            <field name="maxSearchDown" type="float"/>
            <field name="maxSpeed" type="float"/>
            <field name="goalPosThreshold" type="float"/>
        </fields>
    </structure>

    <structure name="SHBX" >
        <description>
            Shadow Box
        </description>
        <versions>
            <version number="0" size="64"/>
        </versions>
        <fields>
            <field name="length" type="FloatAnimationReferenceV0"/>
            <field name="width" type="FloatAnimationReferenceV0"/>
            <field name="height" type="FloatAnimationReferenceV0"/>
            <field name="bone" type="uint32"/>
            <!-- Removed a field toget size matching,
                 size may be wrong...
            <field name="flags" type="uint32"/> -->
        </fields>
    </structure>

    <structure name="CAM_">
        <description>
            Camera
        </description>
        <versions>
            <version number="2" size="148"/>
            <version number="3" size="180"/>
            <version number="5" size="264"/>
        </versions>
        <fields>
            <field name="bone" type="uint32"/>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="fieldOfView" type="FloatAnimationReferenceV0" since-version="3"/>
            <field name="useVertFOV" type="uint32" default-value="1" since-version="3"/>
            <field name="depthOfFieldType" type="uint32" default-value="3" since-version="5"/>
            <field name="unknown0818df94" size="132" till-version="2"/>
            <field name="farClip" type="FloatAnimationReferenceV0" since-version="3"/>
            <field name="nearClip" type="FloatAnimationReferenceV0" since-version="3"/>
            <field name="clip2" type="FloatAnimationReferenceV0" since-version="3"/>
            <field name="focalDepth" type="FloatAnimationReferenceV0" since-version="3"/>
            <field name="falloffStart" type="FloatAnimationReferenceV0" since-version="3"/>
            <field name="falloffEnd" type="FloatAnimationReferenceV0" since-version="3"/>
            <field name="unknown587dc7fb" type="FloatAnimationReferenceV0" since-version="5"/>
            <field name="unknownfff8cb33" type="FloatAnimationReferenceV0" since-version="5"/>
            <field name="depthOfField" type="FloatAnimationReferenceV0" since-version="3"/>
            <field name="unknownf726f834" type="FloatAnimationReferenceV0" since-version="5"/>
            <field name="unknownd506807d" type="FloatAnimationReferenceV0" since-version="5"/>
        </fields>
    </structure>

    <structure name="WRP_">
        <description>
            Warp
        </description>
        <versions>
            <version number="1" size="132"/>
        </versions>
        <fields>
            <field name="unknown861f507b" size="4" expected-value="0x00000000"/>
            <field name="bone" type="uint32"/>
            <field name="unknowncf03b856" size="4" expected-value="0x00000000"/>
            <field name="radius" type="FloatAnimationReferenceV0"/>
            <field name="unknown9306aac0" type="FloatAnimationReferenceV0"/>
            <field name="compressionStrength" type="FloatAnimationReferenceV0"/>
            <field name="unknown50c7f2b4" type="FloatAnimationReferenceV0"/>
            <field name="unknown8d9c977c" type="FloatAnimationReferenceV0"/>
            <field name="unknownca6025a2" type="FloatAnimationReferenceV0"/>
        </fields>
    </structure>

    <structure name="MADD">
        <description>Material Buffer (node based)</description>
        <versions>
            <version number="1" size="140"/>
            <version number="2" size="152"/>
            <version number="3" size="160"/>
        </versions>
        <fields>
            <field name="name" type="Reference" refTo="CHAR"/>
            <field name="unknown2" type="Reference" refTo="U32_"/>
            <field name="unknown3" type="Reference" refTo="U32_" since-version="2"/>
            <field name="unknown4" type="Reference" refTo="CHAR"/> <!-- some arbitrary binary data -->
            <field name="unknown5" type="Reference" refTo="SCHR"/>
            <field name="unknown20b7712d" size="92"/>
            <field name="unknownb9c70ff0" size="8" since-version="3"/>
        </fields>
    </structure>

    <structure name="MODL">
        <description>
            Describes the content of the file.
            bone must have same size like IREF
        </description>
        <versions>
            <version number="20" size="748"/>
            <version number="21" size="760"/>
            <version number="23" size="784"/>
            <version number="25" size="808"/>
            <version number="26" size="820"/>
            <version number="28" size="844"/>
            <version number="29" size="856"/>
            <version number="30" size="868"/>
        </versions>
        <fields>
            <field name="model_name" type="Reference" refTo="CHAR"/>
            <field name="flags" type="uint32" default-value="0x80d53">
                <bits>
                    <bit mask="0x100000" name="has_mesh"/>
                </bits>
            </field>
            <field name="sequences" type="Reference" refTo="SEQS" />
            <field name="sequence_transformation_collections" type="Reference" refTo="STC_"/>
            <field name="sequence_transformation_groups" type="Reference" refTo="STG_"/>
            <field name="unknown_ref_beta0" type="Reference"/>
            <field name="unknown03" type="uint32" expected-value="0"/>
            <field name="sts" type="Reference" refTo="STS_"/>
            <field name="bones" type="Reference" refTo="BONE"/>
            <field name="skin_bone_count" type="uint32"/>
            <field name="vertex_flags" type="uint32" default-value="0x180007d" >
                <bits>
                    <bit mask="0x200" name="has_vertex_colors"/>
                    <bit mask="0x20000" name="has_vertices"/>
                    <bit mask="0x40000" name="use_uv_channel0"/> <!-- 1st UV coordinate -->
                    <bit mask="0x80000" name="use_uv_channel1"/> <!-- 2nd UV coordinate -->
                    <bit mask="0x100000" name="use_uv_channel2"/> <!-- 3th UV coordinate -->
                    <bit mask="0x100000" name="use_uv_channel3"/> <!-- 4th UV coordinate -->
                    <bit mask="0x40000000" name="use_uv_channel4"/> <!-- 5th UV coordinate -->
                    <!--
                         UV flags aren't always set in order, for instance 0x41820261 has two UVs
                         - does it affect the model in some way?
                         - examples: SpaceDockEngineSmall.m3 Void_Thrasher_Walker.m3
                    -->
                </bits>
            </field>
            <field name="vertices" type="Reference" refTo="U8__"/>
            <field name="divisions" type="Reference" refTo="DIV_"/>
            <field name="bone_lookup" type="Reference" refTo="U16_"/>
            <field name="boundings" type="BNDSV0"/>
            <field name="maybe_boundings_flags" type="uint32" expected-value="0"/>
            <field name="unknown_ref_beta1" type="Reference"/>
            <field name="unknown_ref_beta2" type="Reference"/>
            <field name="unknown_ref_beta3" type="Reference"/>
            <field name="unknown14" type="uint32" expected-value="0"/>
            <field name="unknown15" type="uint32" expected-value="0"/>
            <field name="unknown16" type="uint32" default-value="0"/>
            <field name="unknown17" type="uint32" expected-value="0"/>
            <field name="unknown18" type="uint32" expected-value="0"/>
            <field name="unknown19" type="uint32" default-value="0"/>
            <field name="attachment_points" type="Reference" refTo="ATT_"/>
            <field name="attachment_point_addons" type="Reference" refTo="U16_"/>
            <field name="lights" type="Reference" refTo="LITE"/>
            <field name="shadow_boxes" type="Reference" refTo="SHBX" since-version="21"/>
            <field name="cameras" type="Reference" refTo="CAM_"/>
            <field name="d" type="Reference" refTo="U16_"/>
            <field name="material_references" type="Reference" refTo="MATM"/>
            <field name="materials_standard" type="Reference" refTo="MAT_"/>
            <field name="materials_displacement" type="Reference" refTo="DIS_"/>
            <field name="materials_composite" type="Reference" refTo="CMP_"/>
            <field name="materials_terrain" type="Reference" refTo="TER_"/>
            <field name="materials_volume" type="Reference" refTo="VOL_"/>
            <field name="unknown_maybe_ref0" type="Reference"/>
            <field name="materials_creep" type="Reference" refTo="CREP"/>
            <field name="materials_volumenoise" type="Reference" refTo="VON_" since-version="25"/>
            <field name="materials_splatterrainbake" type="Reference" refTo="STBM" since-version="26"/>
            <field name="materials_reflection" type="Reference" refTo="REF_" since-version="28"/>
            <field name="materials_lensflare" type="Reference" refTo="LFLR" since-version="29"/>
            <field name="materials_buffer" type="Reference" refTo="MADD" since-version="30"/>
            <field name="particles" type="Reference" refTo="PAR_"/>
            <field name="particle_copies" type="Reference" refTo="PARC"/>
            <field name="ribbons" type="Reference" refTo="RIB_"/>
            <field name="projections" type="Reference" refTo="PROJ"/>
            <field name="forces" type="Reference" refTo="FOR_"/>
            <field name="warps" type="Reference" refTo ="WRP_"/>
            <field name="unknown_maybe_ref1" type="Reference"/>
            <field name="physics_rigidbodies" type="Reference" refTo="PHRB"/>
            <field name="unknown_maybe_ref2" type="Reference"/>
            <field name="physics_joints" type="Reference" refTo="PHYJ"/>
            <field name="physics_cloths" type="Reference" refTo="PHCL" since-version="28"/>
            <field name="unknown_maybe_ref3" type="Reference"/>
            <field name="unknownbd5657bd" type="Reference" since-version="25"/>
            <field name="ik_joints" type="Reference" refTo="IKJT"/>
            <field name="unknown_maybe_ref4" type="Reference"/>
            <field name="turret_parts" type="Reference" refTo="PATU"/>
            <field name="turrets" type="Reference" refTo="TRGD"/>
            <field name="bone_rests" type="Reference" refTo="IREF"/>
            <field name="hittest_tight" type="SSGSV1"/>
            <field name="hittests" type="Reference" refTo="SSGS"/>
            <field name="attachment_volumes" type="Reference" refTo="ATVL"/>
            <field name="attachment_volumes_addon0" type="Reference" refTo="U16_" since-version="23"/>
            <field name="attachment_volumes_addon1" type="Reference" refTo="U16_" since-version="23"/>
            <field name="billboards" type="Reference" refTo="BBSC"/>
            <field name="tmd_data" type="Reference" refTo="TMD_"/>
            <field name="unique_unknown_number" type="uint32"/>
            <field name="unknown45" type="Reference" refTo="U32_"/>
        </fields>
    </structure>

    <structure name="MD34">
        <description>Header of a M3 file: Can be found at the start of the file.</description>
        <versions>
            <version number="11" size="24"/>
        </versions>
        <fields>
            <field name="tag" type="tag"/>
            <field name="indexOffset" type="uint32"/>
            <field name="indexSize" type="uint32"/>
            <field name="model" type="Reference" refTo="MODL"/>
        </fields>
    </structure>

    <structure name="MD33">
        <description>Header of a M3 file from SC2 Beta</description>
        <versions>
            <version number="11" size="20"/>
        </versions>
        <fields>
            <field name="tag" type="tag"/>
            <field name="indexOffset" type="uint32"/>
            <field name="indexSize" type="uint32"/>
            <field name="model" type="SmallReference" refTo="MODL"/>
            <!-- SmallReference (8 bytes) instead of Reference (12 bytes) is used across all structures in MD33 -->
        </fields>
    </structure>
</structures>
